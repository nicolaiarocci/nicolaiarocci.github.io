<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Spesometro Open Source per .NET | Nicola Iarocci</title>
<meta name=keywords content><meta name=description content="apologies, this post is about an Italian open source release, so it’s going to be in Italian
Spesometro.NET è un nuovo progetto open source che ho rilasciato con la mia azienda. Si tratta di un package .NET che permette di leggere, scrivere e convalidare lo Spesometro o, come è chiamato formalmente, la Comunicazione delle Fatture Emesse e Ricevute.
Si tratta di un adempimento che in tempi recenti, per ragioni che non è il caso di affrontare in questo articolo, ha causato grosse difficoltà sia ai fornitori di soluzioni software che, e soprattutto, agli utenti finali di dette soluzioni."><meta name=author content><link rel=canonical href=https://nicolaiarocci.com/spesometro-open-source-per-.net/><link crossorigin=anonymous href=/assets/css/stylesheet.f0568d4df87da526a07cdd5f492b4a146e3fa93d5ee950200eaafb2bb50d6fd8.css integrity="sha256-8FaNTfh9pSagfN1fSStKFG4/qT1e6VAgDqr7K7UNb9g=" rel="preload stylesheet" as=style><link rel=icon href=https://nicolaiarocci.com/images/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://nicolaiarocci.com/images/favicon16x16.ico><link rel=icon type=image/png sizes=32x32 href=https://nicolaiarocci.com/images/favicon32x32.ico><link rel=apple-touch-icon href=https://nicolaiarocci.com/images/favicon.ico><link rel=mask-icon href=https://nicolaiarocci.com/images/favicon.ico><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:title" content="Spesometro Open Source per .NET"><meta property="og:description" content="apologies, this post is about an Italian open source release, so it’s going to be in Italian
Spesometro.NET è un nuovo progetto open source che ho rilasciato con la mia azienda. Si tratta di un package .NET che permette di leggere, scrivere e convalidare lo Spesometro o, come è chiamato formalmente, la Comunicazione delle Fatture Emesse e Ricevute.
Si tratta di un adempimento che in tempi recenti, per ragioni che non è il caso di affrontare in questo articolo, ha causato grosse difficoltà sia ai fornitori di soluzioni software che, e soprattutto, agli utenti finali di dette soluzioni."><meta property="og:type" content="article"><meta property="og:url" content="https://nicolaiarocci.com/spesometro-open-source-per-.net/"><meta property="article:section" content="post"><meta property="article:published_time" content="2017-10-05T09:37:00+02:00"><meta property="article:modified_time" content="2017-10-05T09:37:00+02:00"><meta property="og:site_name" content="Nicola Iarocci"><meta name=twitter:card content="summary"><meta name=twitter:title content="Spesometro Open Source per .NET"><meta name=twitter:description content="apologies, this post is about an Italian open source release, so it’s going to be in Italian
Spesometro.NET è un nuovo progetto open source che ho rilasciato con la mia azienda. Si tratta di un package .NET che permette di leggere, scrivere e convalidare lo Spesometro o, come è chiamato formalmente, la Comunicazione delle Fatture Emesse e Ricevute.
Si tratta di un adempimento che in tempi recenti, per ragioni che non è il caso di affrontare in questo articolo, ha causato grosse difficoltà sia ai fornitori di soluzioni software che, e soprattutto, agli utenti finali di dette soluzioni."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":2,"name":"Posts","item":"https://nicolaiarocci.com/post/"},{"@type":"ListItem","position":3,"name":"Spesometro Open Source per .NET","item":"https://nicolaiarocci.com/spesometro-open-source-per-.net/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Spesometro Open Source per .NET","name":"Spesometro Open Source per .NET","description":"apologies, this post is about an Italian open source release, so it’s going to be in Italian\nSpesometro.NET è un nuovo progetto open source che ho rilasciato con la mia azienda. Si tratta di un package .NET che permette di leggere, scrivere e convalidare lo Spesometro o, come è chiamato formalmente, la Comunicazione delle Fatture Emesse e Ricevute.\nSi tratta di un adempimento che in tempi recenti, per ragioni che non è il caso di affrontare in questo articolo, ha causato grosse difficoltà sia ai fornitori di soluzioni software che, e soprattutto, agli utenti finali di dette soluzioni.","keywords":[],"articleBody":"apologies, this post is about an Italian open source release, so it’s going to be in Italian\nSpesometro.NET è un nuovo progetto open source che ho rilasciato con la mia azienda. Si tratta di un package .NET che permette di leggere, scrivere e convalidare lo Spesometro o, come è chiamato formalmente, la Comunicazione delle Fatture Emesse e Ricevute.\nSi tratta di un adempimento che in tempi recenti, per ragioni che non è il caso di affrontare in questo articolo, ha causato grosse difficoltà sia ai fornitori di soluzioni software che, e soprattutto, agli utenti finali di dette soluzioni.\nVista la nostra attività, anche noi ci siamo trovati subito in prima linea, schiacciati tra l’incudine (l’aspettativa di migliaia di piccole aziende che usano il software Amica) e il martello (le scadenze incalzanti e i problemi tecnici imposti dalla Pubblica Amministrazione). Non senza difficoltà siamo riusciti a consegnare la soluzione una settimana prima della scadenza ufficiale (alla quale sono seguite diverse proroghe, ma questa è un’altra storia).\nCome già fatto in passato per la Fattura Elettronica, anche per questo progetto abbiamo deciso il rilascio con licenza open source. Potete contribuire al codice, aprire ticket laddove necessario, installarlo ed usarlo nelle vostre applicazioni. In questo articolo vediamo come usarlo.\nCaratteristiche di Spesometro.NET Il package mette a disposizione una classe Spesometro che rappresenta per intero il tracciato ufficiale dello Spesometro 2017. Una istanza di questa classe può essere usata per leggere, modificare e salvare un file spesometro conforme allo standard. E’ anche disponibile una intera collezione di validatori che consentono di certificare che lo Spesometro sia conforme alle regole di convalida ufficiali.\nSpesometro.NET è rilasciato una licenza libera BSD ed è NetStandard 2.0, cosa che consente di utilizzarlo su un ampio numero di piattaforme.\nCome usare Spesometro.NET Sul repository su GitHub troverete una semplice applicazione NetCore di esempio. La stessa è anche disponibile nel README a corredo. esempio. Qui ne ripercorriamo le caratteristiche principali.\nLeggere uno spesometro già esistente è semplice quanto leggere un qualunque file XML:\nUna volta caricato uno spesometro possiamo manipolarlo liberamente. Qui aggiungiamo alle fatture emesse un committente (cliente) con una nostra fattura emessa nei suoi confronti.\nI validatori consentono di assicurarsi che le proprietà siano impostate correttamente rispetto alle regola di convalida previste dallo standard.\nInfine, salvare lo spesometro su file un XML conforme alle specifiche della PA è banale:\nRicordo che il file così creato dovrà essere firmato digitalmente prima di poter essere consegnato, pena il rigetto. Per quanto riguarda il nome del file, va rispettata una convenzione. Il file avrà sempre un nome costruito questo modo: IT_DF_.XML. Il codice univoco di presentazione può essere numerico o alfanumerico, e deve sempre essere di cinque caratteri. Un esempio potrebbe essere: IT01180680937_DF_00001.XML. Le lettere devono essere sempre maiuscole, altrimenti il file verrà scartato.\nInstallazione Spesometro è un package NuGet quindi tutto quel che serve è eseguire Install-Package Spesometro dalla Package Console o dalla command line, oppure usare il comando equivalente in Visual Studio.\nConclusioni Rilasciare il progetto Fattura Elettronica con licenza open source si è rivelata una ottima iniziativa e, viste le difficoltà in cui molti si trovano con lo Spesometro, crediamo e speriamo di fare cosa buona e giusta anche con questo secondo rilascio. Come al solito non esistate a mettervi in contatto per qualunque suggerimento, consiglio, o problema riscontrato.\nPS: nota a margine, anche Fattura Elettronica è stato aggiornato. La versione 0.7 è su nuget, ed è anch’essa NetStandard compatibile.\nJoin the newsletter to get an email alert when a new post surfaces on this site. If you want to get in touch, I am @nicolaiarocci on twitter.\n","wordCount":"600","inLanguage":"en","datePublished":"2017-10-05T09:37:00+02:00","dateModified":"2017-10-05T09:37:00+02:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://nicolaiarocci.com/spesometro-open-source-per-.net/"},"publisher":{"@type":"Organization","name":"Nicola Iarocci","logo":{"@type":"ImageObject","url":"https://nicolaiarocci.com/images/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://nicolaiarocci.com accesskey=h title="Home (Alt + H)"><img src=https://nicolaiarocci.com/images/avatar.png alt aria-label=logo height=35>Home</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://nicolaiarocci.com/opensource/ title=code><span>code</span></a></li><li><a href=https://nicolaiarocci.com/speaking/ title=conferences><span>conferences</span></a></li><li><a href=https://nicolaiarocci.com/books-i-have-read/ title=library><span>library</span></a></li><li><a href=https://nicolaiarocci.com/archives/ title=archive><span>archive</span></a></li><li><a href=https://nicolaiarocci.com/search/ title="search (Alt + /)" accesskey=/><span>search</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class="post-title entry-hint-parent">Spesometro Open Source per .NET</h1><div class=post-meta><span title='2017-10-05 09:37:00 +0200 CEST'>October 5, 2017</span></div></header><div class=post-content><p><em>apologies, this post is about an Italian open source release, so it’s
going to be in Italian</em></p><p><a href=https://github.com/FatturaElettronica/Spesometro.NET>Spesometro.NET</a> è un nuovo progetto open source che ho rilasciato con la <a href=http://gestionaleamica.com>mia
azienda</a>. Si tratta di un package .NET che permette di leggere, scrivere
e convalidare lo Spesometro o, come è chiamato formalmente, la Comunicazione
delle Fatture Emesse e Ricevute.</p><p>Si tratta di un adempimento che in tempi recenti, per ragioni che non è il caso
di affrontare in questo articolo, ha causato grosse difficoltà sia ai fornitori
di soluzioni software che, e soprattutto, agli utenti finali di dette
soluzioni.</p><p>Vista la nostra attività, anche noi ci siamo trovati subito in prima linea,
schiacciati tra l&rsquo;incudine (l&rsquo;aspettativa di migliaia di piccole aziende che
usano il software <a href=http://gestionaleamica.com>Amica</a>) e il martello (le scadenze incalzanti
e i problemi tecnici imposti dalla Pubblica Amministrazione). Non senza
difficoltà siamo riusciti a consegnare la soluzione una settimana prima della
scadenza ufficiale (alla quale sono seguite diverse proroghe, ma questa
è un&rsquo;altra storia).</p><p>Come già fatto in passato per la <a href=https://github.com/FatturaElettronica/FatturaElettronica.NET>Fattura Elettronica</a>, anche per questo
progetto abbiamo deciso il rilascio con licenza open source. Potete
contribuire al codice, aprire ticket laddove necessario, installarlo ed usarlo
nelle vostre applicazioni. In questo articolo vediamo come usarlo.</p><h3 id=caratteristiche-di-spesometronet>Caratteristiche di Spesometro.NET<a hidden class=anchor aria-hidden=true href=#caratteristiche-di-spesometronet>#</a></h3><p>Il package mette a disposizione una classe <code>Spesometro</code> che rappresenta per
intero il <a href=http://www.agenziaentrate.gov.it/wps/file/Nsilib/Nsi/Strumenti/Specifiche+tecniche/Specifiche+tecniche+comunicazioni/Fatture+e+corrispettivi+ST/Allegato+XML+Dati+Fattura/Formato+XMLdati_fattura.xls>tracciato ufficiale</a> dello Spesometro 2017. Una istanza di questa
classe può essere usata per leggere, modificare e salvare un file spesometro
conforme allo standard. E&rsquo; anche disponibile una intera collezione di
validatori che consentono di certificare che lo Spesometro sia conforme alle
regole di convalida ufficiali.</p><p>Spesometro.NET è rilasciato una licenza libera <a href=https://raw.githubusercontent.com/FatturaElettronica/Spesometro.NET/master/LICENSE>BSD</a> ed è <a href=https://github.com/dotnet/standard/blob/master/docs/versions/netstandard2.0.md>NetStandard
2.0</a>, cosa che consente di utilizzarlo su un ampio numero di piattaforme.</p><h3 id=come-usare-spesometronet>Come usare Spesometro.NET<a hidden class=anchor aria-hidden=true href=#come-usare-spesometronet>#</a></h3><p>Sul repository su GitHub troverete una semplice applicazione NetCore di
esempio. La stessa è anche disponibile nel <a href=https://github.com/FatturaElettronica/Spesometro.NET/blob/master/README.md>README</a> a corredo. esempio. Qui
ne ripercorriamo le caratteristiche principali.</p><p>Leggere uno spesometro già esistente è semplice quanto leggere un qualunque
file XML:</p><script src=https://gist.github.com/nicolaiarocci/7cc61d67968014251018309fd76bb233.js></script><p>Una volta caricato uno spesometro possiamo manipolarlo liberamente.
Qui aggiungiamo alle fatture emesse un committente (cliente) con una nostra
fattura emessa nei suoi confronti.</p><script src=https://gist.github.com/nicolaiarocci/caa1db341314bb10a85c47e01397e9ae.js></script><p>I validatori consentono di assicurarsi che le proprietà siano impostate
correttamente rispetto alle regola di convalida previste dallo standard.</p><script src=https://gist.github.com/nicolaiarocci/e9c08dc66e1df5f5a2f3eb991edcf07a.js></script><p>Infine, salvare lo spesometro su file un XML conforme alle
specifiche della PA è banale:</p><script src=https://gist.github.com/nicolaiarocci/4a5efe298d9ea3df47513acbff41af82.js></script><p>Ricordo che il file così creato dovrà essere firmato digitalmente prima di
poter essere consegnato, pena il rigetto. Per quanto riguarda il nome del file,
va rispettata una convenzione. Il file avrà sempre un nome costruito questo
modo: <code>IT&lt;codicefiscaleazienda>_DF_&lt;progressivounivoco>.XML</code>. Il codice univoco
di presentazione può essere numerico o alfanumerico, e deve sempre essere di
cinque caratteri. Un esempio potrebbe essere: <code>IT01180680937_DF_00001.XML</code>. Le
lettere devono essere sempre maiuscole, altrimenti il file verrà scartato.</p><h3 id=installazione>Installazione<a hidden class=anchor aria-hidden=true href=#installazione>#</a></h3><p>Spesometro è un package NuGet quindi tutto quel che serve è eseguire
<code>Install-Package Spesometro</code> dalla Package Console o dalla command line, oppure
usare il comando equivalente in Visual Studio.</p><h3 id=conclusioni>Conclusioni<a hidden class=anchor aria-hidden=true href=#conclusioni>#</a></h3><p>Rilasciare il progetto <a href=https://github.com/FatturaElettronica/FatturaElettronica.NET>Fattura Elettronica</a> con licenza open source si
è rivelata una ottima iniziativa e, viste le difficoltà in cui molti si trovano
con lo Spesometro, crediamo e speriamo di fare cosa buona e giusta anche con
questo secondo rilascio. Come al solito non esistate a mettervi in contatto per
qualunque suggerimento, consiglio, o problema riscontrato.</p><p>PS: nota a margine, anche Fattura Elettronica è stato aggiornato. La versione
0.7 è su nuget, ed è anch&rsquo;essa NetStandard compatibile.</p><p><em>Join the <a href=http://eepurl.com/b-_Pzz>newsletter</a> to get an email alert when a new post surfaces on
this site. If you want to get in touch, I am @<a href=http://twitter.com/nicolaiarocci>nicolaiarocci</a> on twitter.</em></p></div><footer class=post-footer><ul class=post-tags></ul></footer></article></main><footer class=footer><span>&copy; 2023 <a href=https://nicolaiarocci.com>Nicola Iarocci</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>