<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>til | Nicola Iarocci</title>
<meta name=keywords content><meta name=description content="This is the personal website of Nicola Iarocci, Software Craftsman."><meta name=author content><link rel=canonical href=https://nicolaiarocci.com/tags/til/><link crossorigin=anonymous href=/assets/css/stylesheet.b609c58d5c11bb90b1a54e04005d74ad1ddf22165eb79f5533967e57df9c3b50.css integrity="sha256-tgnFjVwRu5CxpU4EAF10rR3fIhZet59VM5Z+V9+cO1A=" rel="preload stylesheet" as=style><link rel=icon href=https://nicolaiarocci.com/images/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://nicolaiarocci.com/images/favicon16x16.ico><link rel=icon type=image/png sizes=32x32 href=https://nicolaiarocci.com/images/favicon32x32.ico><link rel=apple-touch-icon href=https://nicolaiarocci.com/images/favicon.ico><link rel=mask-icon href=https://nicolaiarocci.com/images/favicon.ico><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate type=application/rss+xml href=https://nicolaiarocci.com/tags/til/index.xml><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:title" content="til"><meta property="og:description" content="This is the personal website of Nicola Iarocci, Software Craftsman."><meta property="og:type" content="website"><meta property="og:url" content="https://nicolaiarocci.com/tags/til/"><meta property="og:site_name" content="Nicola Iarocci"><meta name=twitter:card content="summary"><meta name=twitter:title content="til"><meta name=twitter:description content="This is the personal website of Nicola Iarocci, Software Craftsman."></head><body class=list id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://nicolaiarocci.com accesskey=h title="Nicola Iarocci (Alt + H)"><img src=https://nicolaiarocci.com/images/avatar.png alt aria-label=logo height=35>Nicola Iarocci</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://nicolaiarocci.com/about/ title=about><span>about</span></a></li><li><a href=https://nicolaiarocci.com/opensource/ title=code><span>code</span></a></li><li><a href=https://nicolaiarocci.com/speaking/ title=speaking><span>speaking</span></a></li><li><a href=https://nicolaiarocci.com/books-i-have-read/ title=library><span>library</span></a></li><li><a href=https://buttondown.email/nicolaiarocci title=newsletter><span>newsletter</span>&nbsp;<svg fill="none" shape-rendering="geometricPrecision" stroke="currentcolor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" viewBox="0 0 24 24" height="12" width="12"><path d="M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"/><path d="M15 3h6v6"/><path d="M10 14 21 3"/></svg></a></li><li><a href=https://nicolaiarocci.com/index.xml title=rss><span>rss</span></a></li><li><a href=https://nicolaiarocci.com/archives/ title=archive><span>archive</span></a></li><li><a href=https://nicolaiarocci.com/search/ title="search (Alt + /)" accesskey=/><span>search</span></a></li></ul></nav></header><main class=main><header class=page-header><h1>til
<a href=/tags/til/index.xml title=RSS aria-label=RSS><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" height="23"><path d="M4 11a9 9 0 019 9"/><path d="M4 4a16 16 0 0116 16"/><circle cx="5" cy="19" r="1"/></svg></a></h1></header><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>How to use bash to recursively search and replace a string in all directory files</h2></header><div class=entry-content><p>Another achievement I unlocked with the recent website update is the newsletter switch from Substack to a fantastic and independent provider, Buttondown. That required updating all the “subscribe to my newsletter” links. We’re talking 5K posts, all saved as individual files in the same directory. The bash command that did that for me is:
find content/post/*.md -type f -exec \ sed -i .bak 's|https://nicolaiarocci.substack.com|https://buttondown.email/nicolaiarocci|g' {} + It is pretty straightforward. find looks for all markdown files in the content/post/ directory....</p></div><footer class=entry-footer><span title='2024-01-06 09:34:16 +0100 CET'>January 6, 2024</span></footer><a class=entry-link aria-label="post link to How to use bash to recursively search and replace a string in all directory files" href=https://nicolaiarocci.com/how-to-use-bash-to-recursively-search-and-replace-a-string-in-all-directory-files/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>How to use XmlWriter along with StringWriter to properly serialize a UTF-8 string</h2></header><div class=entry-content><p>Today, I (re)learned how to serialize an XML to a UTF-8 string. Like all the other times I did this, I got backstabbed by StringWriter, which only supports UTF-16. A simple code snippet like this:
await using var sw = new StringWriter(); await using var w = XmlWriter.Create(sw, new() { Async = true }); ... await w.FlushAsync(); return sw.ToString(); Will emit this output:
&lt;?xml version="1.0" encoding="utf-16"?>&lt;... There’s nothing inherently wrong with UTF-16, but XML is usually UTF-8, so one must do something about it....</p></div><footer class=entry-footer><span title='2023-11-09 07:05:25 +0100 CET'>November 9, 2023</span></footer><a class=entry-link aria-label="post link to How to use XmlWriter along with StringWriter to properly serialize a UTF-8 string" href=https://nicolaiarocci.com/how-to-use-xmlwriter-along-with-stringwriter-to-properly-serialize-a-utf-8-string/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>LINQ DistinctBy on a property for .NET Standard and older .NET versions</h2></header><div class=entry-content><p>Today I learned how to implement a custom Enumerable.DistinctBy extension method that returns distinct elements from a sequence according to a specified key selector function.
.NET 6 and its successors have the method built in within LINQ, but I needed it in a .NET Standard 2.0 class library, so I was out of luck. My implementation is simple, not different from others I found online, and should also work fine with old ....</p></div><footer class=entry-footer><span title='2023-10-25 07:05:25 +0100 +0100'>October 25, 2023</span></footer><a class=entry-link aria-label="post link to LINQ DistinctBy on a property for .NET Standard and older .NET versions" href=https://nicolaiarocci.com/linq-distinctby-on-a-property-for-dotnet-standard-and-old-dotnet-versions/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>rsync with a different user</h2></header><div class=entry-content><p>Today I learned how to rsync with a user different than the one connected to the remote. Why would one want to do such a thing? The data I need to download from that server is owned by ‘backup,’ a different, service-only user. I wanted to avoid going the change-permissions slippery route and allow my user direct access to the data.
Looking at the rsync documentation, I learned about the nifty --rsync-path=PROGRAM option:...</p></div><footer class=entry-footer><span title='2023-08-23 07:05:25 +0100 +0100'>August 23, 2023</span></footer><a class=entry-link aria-label="post link to rsync with a different user" href=https://nicolaiarocci.com/rsync-with-a-different-user/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>Homebrew and .NET 8 Preview don't like each other</h2></header><div class=entry-content><p>Today I learned that .NET 8 Preview could play better with Homebrew (or vice-versa). I’m working on a C# 12 presentation for our local developer meetup, and for that, I wanted .NET 8 Preview to run side by side with version 7 on my Mac. As version 7 was initially installed with Homebrew, I also wanted to install version 8 Preview with Homebrew, but that recipe was unavailable. Not perfectly happy with that, I fell back to the stand-alone installer, expecting problems....</p></div><footer class=entry-footer><span title='2023-06-13 07:05:25 +0100 +0100'>June 13, 2023</span></footer><a class=entry-link aria-label="post link to Homebrew and .NET 8 Preview don't like each other" href=https://nicolaiarocci.com/homebrew-and-dotnet-8-preview-dont-like-each-other/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>Python `decimal.getcontext` does not work with bpython</h2></header><div class=entry-content><p>I have been working on a side project for which I’m using bpython, a “fancy interface to the Python interpreter.” If you use the Python REPL often, you should check it out. It offers unique features like in-line syntax highlighting, readline-like autocomplete, a “rewind” function to pop the last line of code from memory, auto-indentation and more.
Anyway, today I found a bug in bpython, and that’s that Python’s decimal.getcontext() does not work with it....</p></div><footer class=entry-footer><span title='2023-06-06 07:05:25 +0100 +0100'>June 6, 2023</span></footer><a class=entry-link aria-label="post link to Python `decimal.getcontext` does not work with bpython" href=https://nicolaiarocci.com/python-decimal.getcontext-does-not-work-with-bpython/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>macOS networkQuality tool</h2></header><div class=entry-content><p>Today I learned about a precious little macOS command line tool, networkQuality.
The networkQuality tool is a built-in tool released in macOS Monterey that can help diagnose network issues and measure network performance.
Usage:
networkQuality -v Example output:
==== SUMMARY ==== Uplink capacity: 44.448 Mbps (Accuracy: High) Downlink capacity: 162.135 Mbps (Accuracy: High) Responsiveness: Low (73 RPM) (Accuracy: High) Idle Latency: 50.125 milliseconds (Accuracy: High) Interface: en0 Uplink bytes transferred: 69....</p></div><footer class=entry-footer><span title='2023-05-15 07:05:25 +0100 +0100'>May 15, 2023</span></footer><a class=entry-link aria-label="post link to macOS networkQuality tool" href=https://nicolaiarocci.com/macos-networkquality-tool/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>The real cost of interruption</h2></header><div class=entry-content><p>I’m just back from reading Programmer Interrupted: The Real Cost of Interruption and Context Switching, an interesting short piece in which I learned about at least two new things.
First, The Parable of the Two Watchmakers, introduced by Nobel Prize winner Herbert Simon, describes the complex relationship between sub-systems and their larger wholes. In the context of the article, it helps explain, even for non-programmers, the cost of an interruption. It also hints at a possible mitigation technique:...</p></div><footer class=entry-footer><span title='2023-04-07 07:05:25 +0100 +0100'>April 7, 2023</span></footer><a class=entry-link aria-label="post link to The real cost of interruption" href=https://nicolaiarocci.com/the-real-cost-of-interruption/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>Hand dryers</h2></header><div class=entry-content><p>via</p></div><footer class=entry-footer><span title='2023-02-28 07:05:25 +0100 CET'>February 28, 2023</span></footer><a class=entry-link aria-label="post link to Hand dryers" href=https://nicolaiarocci.com/hand-dryers/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>Awesome psql tips</h2></header><div class=entry-content><p>Today I learned about psql-tips.org by Lætitia Avrot, an excellent repository of psql (the CLI tool, not the database itself) tips. I like how one randomized tip is playfully served on the home page while the complete list is always at hand.</p></div><footer class=entry-footer><span title='2023-02-23 07:05:25 +0100 CET'>February 23, 2023</span></footer><a class=entry-link aria-label="post link to Awesome psql tips" href=https://nicolaiarocci.com/awesome-psql-tips/></a></article><footer class=page-footer><nav class=pagination><a class=prev href=https://nicolaiarocci.com/tags/til/>«&nbsp;Prev&nbsp;
</a><a class=next href=https://nicolaiarocci.com/tags/til/page/3/>Next&nbsp;&nbsp;»</a></nav></footer></main><footer class=footer><span>Produced / Written / Maintained by <a href=/>Nicola Iarocci</a> since 2010</span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>