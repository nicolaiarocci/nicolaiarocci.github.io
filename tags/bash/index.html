<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Bash | Nicola Iarocci</title>
<meta name=keywords content><meta name=description content="This is the personal website of Nicola Iarocci, Software Craftsman."><meta name=author content><link rel=canonical href=https://nicolaiarocci.com/tags/bash/><link crossorigin=anonymous href=/assets/css/stylesheet.45e028aa8ce0961349adf411b013ee39406be2c0bc80d4ea3fc04555f7f4611a.css integrity="sha256-ReAoqozglhNJrfQRsBPuOUBr4sC8gNTqP8BFVff0YRo=" rel="preload stylesheet" as=style><link rel=icon href=https://nicolaiarocci.com/images/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://nicolaiarocci.com/images/favicon16x16.ico><link rel=icon type=image/png sizes=32x32 href=https://nicolaiarocci.com/images/favicon32x32.ico><link rel=apple-touch-icon href=https://nicolaiarocci.com/images/favicon.ico><link rel=mask-icon href=https://nicolaiarocci.com/images/favicon.ico><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate type=application/rss+xml href=https://nicolaiarocci.com/tags/bash/index.xml><link rel=alternate hreflang=en href=https://nicolaiarocci.com/tags/bash/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:url" content="https://nicolaiarocci.com/tags/bash/"><meta property="og:site_name" content="Nicola Iarocci"><meta property="og:title" content="Bash"><meta property="og:description" content="This is the personal website of Nicola Iarocci, Software Craftsman."><meta property="og:locale" content="en"><meta property="og:type" content="website"><meta name=twitter:card content="summary"><meta name=twitter:title content="Bash"><meta name=twitter:description content="This is the personal website of Nicola Iarocci, Software Craftsman."></head><body class=list id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://nicolaiarocci.com/ accesskey=h title="Nicola Iarocci (Alt + H)"><img src=https://nicolaiarocci.com/images/avatar.png alt aria-label=logo height=35>Nicola Iarocci</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://buttondown.email/nicolaiarocci title=subscribe><span>subscribe</span>&nbsp;<svg fill="none" shape-rendering="geometricPrecision" stroke="currentcolor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" viewBox="0 0 24 24" height="12" width="12"><path d="M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"/><path d="M15 3h6v6"/><path d="M10 14 21 3"/></svg></a></li><li><a href=https://nicolaiarocci.com/opensource/ title=code><span>code</span></a></li><li><a href=https://nicolaiarocci.com/speaking/ title=speaking><span>speaking</span></a></li><li><a href=https://nicolaiarocci.com/books-i-have-read/ title=library><span>library</span></a></li><li><a href=https://nicolaiarocci.com/search/ title="search (Alt + /)" accesskey=/><span>search</span></a></li><li><a href=https://nicolaiarocci.com/archives/ title=archive><span>archive</span></a></li><li><a href=https://nicolaiarocci.com/about/ title=about><span>about</span></a></li></ul></nav></header><main class=main><header class=page-header><h1>Bash
<a href=/tags/bash/index.xml title=RSS aria-label=RSS><svg viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" height="23"><path d="M4 11a9 9 0 019 9"/><path d="M4 4a16 16 0 0116 16"/><circle cx="5" cy="19" r="1"/></svg></a></h1></header><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>Curl and jq go to a conference</h2></header><div class=entry-content><p>I’m presenting at the WPC 2025 Conference on December 3rd in Milan. My session topic is Feature Flag Management and Dynamic Configurations in C#.
I will use a Web API as an example project, and since I’ll be using curl live to query the it, I’ll need to pipe responses through jq to obtain nicely formatted JSON for the audience.
The problem with jq is that it crashes on 400s or 500s because the response body is empty in those cases. Error responses are inherent to the demo, and crashes are not the most desirable thing during a presentation.
...</p></div><footer class=entry-footer><span title='2025-11-21 16:57:44 +0100 CET'>November 21, 2025</span></footer><a class=entry-link aria-label="post link to Curl and jq go to a conference" href=https://nicolaiarocci.com/curl-and-jq-go-to-a-conference/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>My most used command-line commands</h2></header><div class=entry-content><p>My most used command-line commands:
5180 git 777 cd 653 ls 452 go 440 ./invoice 377 dotnet 373 rm 270 vi 225 cat 219 ssh Version control dominates the scene (a gentle middle finger for the youngster - you know who you are - who told me I should not be coding anymore). I also like that the list hints at the new stuff I’ve been working on recently and am excited about.
...</p></div><footer class=entry-footer><span title='2025-01-01 12:33:34 +0100 CET'>January 1, 2025</span></footer><a class=entry-link aria-label="post link to My most used command-line commands" href=https://nicolaiarocci.com/my-most-used-command-line-commands/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>ShellCheck</h2></header><div class=entry-content><p>Today I learned about ShellCheck, a static analysis tool that “finds bugs in your scripts”. It can and should be run on the command line, but an online version is also available. It catches most style and syntax errors and has plenty of options, like ignoring specific errors and warnings, which is helpful in CI scenarios.</p></div><footer class=entry-footer><span title='2024-07-24 14:59:21 +0200 CEST'>July 24, 2024</span></footer><a class=entry-link aria-label="post link to ShellCheck" href=https://nicolaiarocci.com/shellcheck/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>Bash-Oneliner: a collection of terminal tricks for Linux</h2></header><div class=entry-content><p>Bash-Oneliner is an excellent resource for Bash/Linux users. Most of the “tricks” are well-known, but there is always something to learn. More importantly, finding them all well organized in one file is rare.
I use the reverse lookup of bash-history (Ctrl+R) daily. Still, only today (thanks to an HN comment on Bash-Onliner) did I learn that it also preserves one’s comments, which can be exploited to invoke complex commands quickly:
$ mv -n ~/Desktop/*.pdf ~/Documents/PDF_Archive/ #pdfsync Then, you simply Ctrl-R and type “pdfsync” to recall the above command when needed. Neat.
...</p></div><footer class=entry-footer><span title='2024-07-22 15:51:51 +0200 CEST'>July 22, 2024</span></footer><a class=entry-link aria-label="post link to Bash-Oneliner: a collection of terminal tricks for Linux" href=https://nicolaiarocci.com/bash-oneliner-a-collection-of-terminal-tricks-for-linux/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>How to fix the crontab error `rename: Operation not permitted`</h2></header><div class=entry-content><p>Today, something unexpected happened while I was working on one of our Linux machines. I issued the crontab -e command to add a cron job to my user’s crontab file, modified and saved it, only to the following error:
crontab: installing new crontab crontab: crontabs/&lt;user>: rename: Operation not permitted crontab: edits left in /tmp/crontab.hgmsOH/crontab Puzzled, I checked whether my user permissions were all right, if the disk was full, and several other things. Long story short, the fix was this one:
...</p></div><footer class=entry-footer><span title='2024-01-25 14:37:42 +0100 CET'>January 25, 2024</span></footer><a class=entry-link aria-label="post link to How to fix the crontab error `rename: Operation not permitted`" href=https://nicolaiarocci.com/how-to-fix-the-crontab-error-rename-operation-not-permitted/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>How to use bash to recursively search and replace a string in all directory files</h2></header><div class=entry-content><p>Another achievement I unlocked with the recent website update is the newsletter switch from Substack to a fantastic and independent provider, Buttondown. That required updating all the “subscribe to my newsletter” links. We’re talking 5K posts, all saved as individual files in the same directory. The bash command that did that for me is:
find content/post/*.md -type f -exec \ sed -i .bak 's|https://nicolaiarocci.substack.com|https://buttondown.email/nicolaiarocci|g' {} + It is pretty straightforward. find looks for all markdown files in the content/post/ directory. On each file, sed performs a search-and-replace action. Notice that I use | instead of the standard / as a separator for the search-and-replace pattern , and that’s because the pattern itself has /s in the URLs so I need to differentiate. Also, on macOS, the -i parameter requires a backup file argument ("*.bak") to make a backup copy before the update. This argument is unnecessary in newer sed versions and will perform an in-place update if not provided.
...</p></div><footer class=entry-footer><span title='2024-01-06 09:34:16 +0100 CET'>January 6, 2024</span></footer><a class=entry-link aria-label="post link to How to use bash to recursively search and replace a string in all directory files" href=https://nicolaiarocci.com/how-to-use-bash-to-recursively-search-and-replace-a-string-in-all-directory-files/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>rsync with a different user</h2></header><div class=entry-content><p>Today I learned how to rsync with a user different than the one connected to the remote. Why would one want to do such a thing? The data I need to download from that server is owned by ‘backup,’ a different, service-only user. I wanted to avoid going the change-permissions slippery route and allow my user direct access to the data.
Looking at the rsync documentation, I learned about the nifty --rsync-path=PROGRAM option:
...</p></div><footer class=entry-footer><span title='2023-08-23 07:05:25 +0100 +0100'>August 23, 2023</span></footer><a class=entry-link aria-label="post link to rsync with a different user" href=https://nicolaiarocci.com/rsync-with-a-different-user/></a></article></main><footer class=footer><span>Produced / Written / Maintained by <a href=/>Nicola Iarocci</a> since 2010</span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>