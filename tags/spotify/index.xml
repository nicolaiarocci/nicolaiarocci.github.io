<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>spotify on Nicola Iarocci</title>
    <link>https://nicolaiarocci.com/tags/spotify/</link>
    <description>Recent content in spotify on Nicola Iarocci</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en</language>
    <copyright>Produced / Written / Maintained by [Nicola Iarocci](/) since 2010</copyright>
    <lastBuildDate>Sat, 03 Dec 2022 07:05:25 +0100</lastBuildDate>
    <atom:link href="https://nicolaiarocci.com/tags/spotify/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>My Music in 2022 according to Spotify</title>
      <link>https://nicolaiarocci.com/my-music-in-2022-according-to-spotify/</link>
      <pubDate>Sat, 03 Dec 2022 07:05:25 +0100</pubDate>
      <guid>https://nicolaiarocci.com/my-music-in-2022-according-to-spotify/</guid>
      <description>Wrapped by Spotify, the 2022 edition just landed in my mailbox. This year I listened to twenty-four different genres. My favorite was Indie Jazz, followed by Hip Hop, Jazz, Electronica and Rock. I am a little puzzled about that Hip Hop in second place. In total, I spent 14143 minutes listening to music, 80 percent more than other listeners in Italy did.
My favorite track was [Fear Of The Dawn][1] by Jack White, followed by [The Beginning][2] by Native Soul, [Sorcery][3] by The Toxic Avenger, [Spirals][4] by Django Django, and [Boy From Michigan][5] by John Grant.</description>
      <content:encoded><![CDATA[<p>Wrapped by Spotify, the 2022 edition just landed in my mailbox. This year I
listened to twenty-four different genres. My favorite was Indie Jazz, followed
by Hip Hop, Jazz, Electronica and Rock. I am a little puzzled about that Hip
Hop in second place. In total, I spent 14143 minutes listening to music, 80
percent more than other listeners in Italy did.</p>
<p>My favorite track was [Fear Of The Dawn][1] by Jack White, followed by [The
Beginning][2] by Native Soul, [Sorcery][3] by The Toxic Avenger, [Spirals][4] by
Django Django, and [Boy From Michigan][5] by John Grant.</p>
<p>My favorite artists have been Max Gazzè (a recent rediscovery-and reappraisal),
Rosalía, Accademia Bizantina, Subsonica and Jack White. Again, color me a
little surprised. I like Max Gazzè, but I&rsquo;d swear I listened to many other
artists for at least the same amount of time, if not (way) more. But what do I
know? One cannot beat the algorithm, right?</p>
<p>My “music personality,” as Spotify calls it, would be that of a “serious
relationship: you carefully select the music and artists you listen to but have
a lot of affection to give. If you like an artist, then it’s serious.” Which I
have to admit is kind of my general attitude, not just toward music. Here&rsquo;s my
top 101 (not a typo) for 2022:</p>
<ul>
<li><a href="https://open.spotify.com/playlist/37i9dQZF1F0sijgNaJdgit?si=834dd8504bf3430b">My Top Songs of 2022</a></li>
</ul>
]]></content:encoded>
    </item>
    <item>
      <title>How I stopped Spotify from draining both my RAM and CPU</title>
      <link>https://nicolaiarocci.com/how-i-stopped-spotify-from-draining-both-my-ram-and-cpu/</link>
      <pubDate>Mon, 05 Sep 2022 07:05:25 +0100</pubDate>
      <guid>https://nicolaiarocci.com/how-i-stopped-spotify-from-draining-both-my-ram-and-cpu/</guid>
      <description>A few days ago, I was browsing my Twitter feed when a [suggestion][2] from my friend [@flaper87][3] caught my attention:
On my &amp;ldquo;comfortably old&amp;rdquo; MacBook Pro[^10], Spotify has been an absolute hog. The simple act of opening it will require three hundred MBs. That&amp;rsquo;s a remarkable amount of memory for staying idle and doing nothing useful. Let it play for a few hours, and have fun glancing at CPU and RAM usage ramping up like there&amp;rsquo;s no tomorrow.</description>
      <content:encoded><![CDATA[<p>A few days ago, I was browsing my Twitter feed when a [suggestion][2] from my
friend [@flaper87][3] caught my attention:</p>
<p><img loading="lazy" src="/images/flaper87-on-spotifyd.png" alt=""  />
</p>
<p>On my &ldquo;comfortably old&rdquo; MacBook Pro[^10], Spotify has been an absolute hog. The
simple act of opening it will require three hundred MBs. That&rsquo;s a remarkable
amount of memory for staying idle and doing nothing useful. Let it play for
a few hours, and have fun glancing at CPU and RAM usage ramping up like there&rsquo;s
no tomorrow. Just for the record, here&rsquo;s Spotify memory usage at launch:</p>
<p><img loading="lazy" src="/images/spotify-memory-usage.png" alt=""  />
</p>
<p>So what exactly is [spotifyd][5]? An open source Spotify client
running as a UNIX daemon.</p>
<blockquote>
<p>Spotifyd streams music just like the official client, but is more lightweight
and supports more platforms. Spotifyd also supports the Spotify Connect
protocol, which makes it show up as a device that can be controlled from the
official clients[^11].</p>
</blockquote>
<p>Slow Saturday morning, I decided to give the spotifyd/spotify-tui combo a try.
Setting up spotifyd on a Mac with homebrew is as simple as typing <code>brew install spotifyd</code> and then <code>brew services start spotifyd</code> to let it run as a service,
or one can opt to launch it as a stand-alone with <code>spotifyd --no-daemon</code>.</p>
<p>As I quickly learned, on a Mac, you need to edit the default configuration file
to update a couple of settings, as reported on the wiki. Namely, I had to set
<code>backend = 'portaudio'</code> and <code>volume_controller = 'softvol'</code>. While at it,
I also set <code>use_keyring = true</code> to avoid storing my Spotify password in the
file. Here&rsquo;s my current configuration settings:</p>
<pre><code>[global]
username = &quot;&lt;USERNAME&gt;&quot;
use_keyring = true

# On Linux, set both values to 'alsa'
backend = &quot;portaudio&quot;          
volume_controller = &quot;softvol&quot;  

bitrate = 320
volume_normalisation = true
normalisation_pregain = -10

# If set to true, audio data does NOT get cached.
no_audio_cache = false
cache_path = &quot;&lt;USER_LIBRARY&gt;/Application Support/Spotify/PersistentCache/Storage&quot;
</code></pre>
<p>One minor annoyance that doesn&rsquo;t prevent the server from running as intended
and is only noticeable when I run spotifyd as a stand-alone app is a recurring
and rather obscure &ldquo;No route to host&rdquo; warning message. There&rsquo;s an [open
ticket][4] about it. Other than that, spotifyd has been bliss. Most remarkably,
this is the memory usage after a few hours of non-stop streaming:</p>
<p><img loading="lazy" src="/images/spotifyd-memory-usage.png" alt=""  />
</p>
<p>Quite an achievement, considering that we started at 300+ MBs.</p>
<p>I also installed [spotify-tui][6] in an attempt to use it as a replacement for
the official client. As much as I&rsquo;d love to use it (I love its UI/UX), I can&rsquo;t
say I&rsquo;m happy with it. It sometimes reports a server disconnect when, in fact,
the underlying spotifyd service is running fine (and I can connect and play
with it from the official client). Secondly, it is sluggish sometimes. Further
investigation revealed that the project is [not actively maintained][1]. For
the time being, I&rsquo;m connecting to spotifyd from the official iPhone app. I get
the lightweight service with the added benefit that I don&rsquo;t have to switch
windows when I want to interact with Spotify.</p>
]]></content:encoded>
    </item>
  </channel>
</rss>
