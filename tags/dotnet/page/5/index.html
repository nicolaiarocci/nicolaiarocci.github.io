<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Dotnet | Nicola Iarocci</title>
<meta name=keywords content><meta name=description content="This is the personal website of Nicola Iarocci, Software Craftsman."><meta name=author content><link rel=canonical href=https://nicolaiarocci.com/tags/dotnet/><link crossorigin=anonymous href=/assets/css/stylesheet.45e028aa8ce0961349adf411b013ee39406be2c0bc80d4ea3fc04555f7f4611a.css integrity="sha256-ReAoqozglhNJrfQRsBPuOUBr4sC8gNTqP8BFVff0YRo=" rel="preload stylesheet" as=style><link rel=icon href=https://nicolaiarocci.com/images/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://nicolaiarocci.com/images/favicon16x16.ico><link rel=icon type=image/png sizes=32x32 href=https://nicolaiarocci.com/images/favicon32x32.ico><link rel=apple-touch-icon href=https://nicolaiarocci.com/images/favicon.ico><link rel=mask-icon href=https://nicolaiarocci.com/images/favicon.ico><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate type=application/rss+xml href=https://nicolaiarocci.com/tags/dotnet/index.xml><link rel=alternate hreflang=en href=https://nicolaiarocci.com/tags/dotnet/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:url" content="https://nicolaiarocci.com/tags/dotnet/"><meta property="og:site_name" content="Nicola Iarocci"><meta property="og:title" content="Dotnet"><meta property="og:description" content="This is the personal website of Nicola Iarocci, Software Craftsman."><meta property="og:locale" content="en"><meta property="og:type" content="website"><meta name=twitter:card content="summary"><meta name=twitter:title content="Dotnet"><meta name=twitter:description content="This is the personal website of Nicola Iarocci, Software Craftsman."></head><body class=list id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://nicolaiarocci.com/ accesskey=h title="Nicola Iarocci (Alt + H)"><img src=https://nicolaiarocci.com/images/avatar.png alt aria-label=logo height=35>Nicola Iarocci</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://nicolaiarocci.com/about/ title=about><span>about</span></a></li><li><a href=https://nicolaiarocci.com/opensource/ title=code><span>code</span></a></li><li><a href=https://nicolaiarocci.com/speaking/ title=speaking><span>speaking</span></a></li><li><a href=https://nicolaiarocci.com/books-i-have-read/ title=library><span>library</span></a></li><li><a href=https://buttondown.email/nicolaiarocci title=subscribe><span>subscribe</span>&nbsp;<svg fill="none" shape-rendering="geometricPrecision" stroke="currentcolor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" viewBox="0 0 24 24" height="12" width="12"><path d="M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"/><path d="M15 3h6v6"/><path d="M10 14 21 3"/></svg></a></li><li><a href=https://nicolaiarocci.com/archives/ title=archive><span>archive</span></a></li><li><a href=https://nicolaiarocci.com/search/ title="search (Alt + /)" accesskey=/><span>search</span></a></li></ul></nav></header><main class=main><header class=page-header><h1>Dotnet
<a href=/tags/dotnet/index.xml title=RSS aria-label=RSS><svg viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" height="23"><path d="M4 11a9 9 0 019 9"/><path d="M4 4a16 16 0 0116 16"/><circle cx="5" cy="19" r="1"/></svg></a></h1></header><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>Parameter null-checking added to C# 11 Preview</h2></header><div class=entry-content><p>The first preview of C# 11 is out, and well, I think I like what I see. I dig the new List patterns and am a fan of allowing newlines in the “holes” of interpolated strings. Parameter null-checking is a bit contentious, and it’s good that they are releasing it in preview one and asking for feedback.
In a nutshell, they want to spare us a lot of boilerplate. Code like this:
public static void M(string s) { if (s is null) { throw new ArgumentNullException(nameof(s)); } // Body of the method } Would be abbreviated by adding !! to the parameter name:
...</p></div><footer class=entry-footer><span title='2022-02-27 07:05:25 +0100 CET'>February 27, 2022</span></footer><a class=entry-link aria-label="post link to Parameter null-checking added to C# 11 Preview" href=https://nicolaiarocci.com/paramter-null-checking-added-to-csharp-11-preview/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>My ASP.NET 5 migration to .NET 6</h2></header><div class=entry-content><p>I spent the last few days migrating our ASP.NET REST services, MVC web applications and Blazor server apps to .NET 6. Overall the process was pretty straightforward. The few issues I went through were easy to solve and well documented. Things got more involved with the EF Core 6 transition, especially with the Npgsql Entity Framework Core Provider.
The official ASP.NET Core 5.0 to 6.0 migration guide was my first stop. It offers the perfect entry point, rich with in-depth links. At this stage, I am not interested in switching to the new .NET 6 minimal hosting model (aka Minimal APIs). I think it’s a significant improvement, and we will likely adopt it for new projects, but our production projects aren’t going to be refactored right away. Should minimal APIs also prove to be remarkably performant, we’ll reconsider them1.
...</p></div><footer class=entry-footer><span title='2021-11-14 07:05:25 +0100 CET'>November 14, 2021</span></footer><a class=entry-link aria-label="post link to My ASP.NET 5 migration to .NET 6" href=https://nicolaiarocci.com/my-asp.net-5-migration-to-.net-6/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>Drama going on at the .NET Foundation</h2></header><div class=entry-content><p>A few months after I released my first .NET open source project (a niche one targeting the Italian fintech world), I was contacted by a representative of Team Digitale, the digital innovation branch of the Italian Public Administration. He suggested joining the Developers Italia initiative and moving my project to the their organization on GitHub “to enjoy enhanced visibility and broaden the audience”. I politely refused. I did not doubt my counterpart’s good faith. At the same time, I was concerned about the possible long-term consequences of a seemingly easy move. Moving a GitHub project away from your profile or an organization you control means ceding control over it. I was assured I would keep control of the project. But what happens if sometime in the future, when people in charge might even have changed, they revoke my access rights? As long as I am involved with my project, I should be in control. Also, I was not convinced that the move would help promote the project. We live in the search-engine age; people search for solutions to their problems. I was, and still am, confident that if I did my due diligence and my project is any good, people will find it1.
...</p></div><footer class=entry-footer><span title='2021-10-07 07:05:25 +0100 +0100'>October 7, 2021</span></footer><a class=entry-link aria-label="post link to Drama going on at the .NET Foundation" href=https://nicolaiarocci.com/drama-going-on-at-the-.net-foundation/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>ASP.NET 6 Migration Cheatsheet and FAQ</h2></header><div class=entry-content><p>David Fowler has a very informative gist up on GitHub. It’s titled [Migration to ASP.NET Core. NET6][3] and it’s filled with details, recipes and FAQs on migrating an ASP.NET Core 5 web app to ASP.NET Core 61. The focus is on the new, streamlined hosting model, also known as Minimal APIs2. To be clear, You don’t have to move to the new model. As the FAQ section emphasizes:
Do I have to migrate to the new hosting model
...</p></div><footer class=entry-footer><span title='2021-09-23 07:05:25 +0100 +0100'>September 23, 2021</span></footer><a class=entry-link aria-label="post link to ASP.NET 6 Migration Cheatsheet and FAQ" href=https://nicolaiarocci.com/asp.net-6-migration-cheatsheet-and-faq/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>Performance improvements in .NET6</h2></header><div class=entry-content><p>I’m pretty psyched about the upcoming .NET6 release. I’ve already touched on ASP.NET 6 Minimal APIs. Continuing on the long-established tradition, the team has also worked hard on the performance side of things. File IO, for example, is seeing impressive gains:
For .NET 6, we have made FileStream much faster and more reliable, thanks to an almost entire re-write. For same cases, the async implementation is now a few times faster! We also recognized the need of having more high-performance file IO features: concurrent reads and writes, scatter/gather IO and introduced new APIs for them. TL;DR File I/O is better, stronger, faster!
...</p></div><footer class=entry-footer><span title='2021-09-03 07:05:25 +0100 +0100'>September 3, 2021</span></footer><a class=entry-link aria-label="post link to Performance improvements in .NET6" href=https://nicolaiarocci.com/performance-improvements-in-.net6/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>How to read Windows-1252 encoded files with .NETCore and .NET5+</h2></header><div class=entry-content><p>Another day, another lesson learned: modern .NET does not support the Windows-1252 encoding out of the box. Today my colleague was happily porting a legacy NET4+ app to NET6. As usual, the port was super-easy; it would compile and run just fine, so he was surprised when the app crashed reading a few specific XML files. That’s when I was called in. A closer inspection revealed a pattern: all those crashing files were Windows 1252-encoded (the rest, a vast majority, were UTF-8.)
...</p></div><footer class=entry-footer><span title='2021-08-27 07:05:25 +0100 +0100'>August 27, 2021</span></footer><a class=entry-link aria-label="post link to How to read Windows-1252 encoded files with .NETCore and .NET5+" href=https://nicolaiarocci.com/how-to-read-windows-1252-encoded-files-with-.netcore-and-.net5-/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>Will .NET 6 Minimal APIs turn heads?</h2></header><div class=entry-content><p>I am pretty excited about the [Minimal APIs][3] feature that is coming with .NET 6. Three lines of code will be enough to build a fully functional REST microservice1:
var app = WebApplication.Create(args); app.MapGet("/", () => "Hello World!"); await app.RunAsync(); If you’re a seasoned ASP.NET MVC/WebApi developer, the snippet caught your attention because, pre-.NET 6, achieving the same result will have you messing with a lot of extra cruft2. I suspect, however, that this feature is not primarily targeted at existing .NET developers. Developers new and old looking at .NET for the first time, or those like me returning after a long break; these are, I think, the designated audience.
...</p></div><footer class=entry-footer><span title='2021-07-14 07:05:25 +0100 +0100'>July 14, 2021</span></footer><a class=entry-link aria-label="post link to Will .NET 6 Minimal APIs turn heads?" href=https://nicolaiarocci.com/will-.net-6-minimal-apis-turn-heads/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>My DotNetPodcast interview</h2></header><div class=entry-content><p>Today I was interviewed by Mauro Servienti on the DotNetPodcast. The theme was my experience as an open-source maintainer on both the Python and C# stacks. We also discussed the ongoing evolution of the dotNET ecosystem, touching on a few tangent topics.
The recording is in Italian and is available below here.
Listen to “Python, Eve, open source e fattura elettronica. Con Nicola Iarocci” on Spreaker.
...</p></div><footer class=entry-footer><span title='2021-07-06 07:05:25 +0100 +0100'>July 6, 2021</span></footer><a class=entry-link aria-label="post link to My DotNetPodcast interview" href=https://nicolaiarocci.com/my-dotnetpodcast-interview/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>Custom default values for not existing dictionary items (and a lesson learned)</h2></header><div class=entry-content><p>When dealing with dictionaries, a typical problem is when an operation attempts to retrieve an element using a key that does not exist in the dictionary. In .NET, a KeyNotFoundException is raised, and that’s the desired behaviour in most circumstances. Sometimes, however, you know that your program will frequently try to retrieve keys that do not exist. In such cases, it is more efficient to use the TryGetValue method:
This method returns the value associated with the specified key, if the key is found; otherwise, the default value for the type of the value parameter is returned (source)
...</p></div><footer class=entry-footer><span title='2021-06-11 07:05:25 +0100 +0100'>June 11, 2021</span></footer><a class=entry-link aria-label="post link to Custom default values for not existing dictionary items (and a lesson learned)" href=https://nicolaiarocci.com/custom-default-values-for-not-existing-dictionary-items-and-a-lesson-learned/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>dotnet SmtpClient should not be used</h2></header><div class=entry-content><p>I am very late to the party, but today I learned that the good old dotnet SmptClient is considered obsolete and should not be used. Quoting the documentation:
We don’t recommend using the SmtpClient class for new development because SmtpClient doesn’t support many modern protocols. Use MailKit or other libraries instead. (source)
Interestingly, Microsoft is recommending a third-party open-source library as an alternative. I hope we’ll see more of that in the future.
...</p></div><footer class=entry-footer><span title='2021-05-04 07:05:25 +0100 +0100'>May 4, 2021</span></footer><a class=entry-link aria-label="post link to dotnet SmtpClient should not be used" href=https://nicolaiarocci.com/dotnet-smtpclient-should-not-be-used/></a></article><footer class=page-footer><nav class=pagination><a class=prev href=https://nicolaiarocci.com/tags/dotnet/page/4/>«&nbsp;Prev&nbsp;</a></nav></footer></main><footer class=footer><span>Produced / Written / Maintained by <a href=/>Nicola Iarocci</a> since 2010</span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>