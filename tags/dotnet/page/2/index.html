<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>dotnet | Nicola Iarocci</title>
<meta name=keywords content><meta name=description content="This is the personal website of Nicola Iarocci, Software Craftsman."><meta name=author content><link rel=canonical href=https://nicolaiarocci.com/tags/dotnet/><link crossorigin=anonymous href=/assets/css/stylesheet.b609c58d5c11bb90b1a54e04005d74ad1ddf22165eb79f5533967e57df9c3b50.css integrity="sha256-tgnFjVwRu5CxpU4EAF10rR3fIhZet59VM5Z+V9+cO1A=" rel="preload stylesheet" as=style><link rel=icon href=https://nicolaiarocci.com/images/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://nicolaiarocci.com/images/favicon16x16.ico><link rel=icon type=image/png sizes=32x32 href=https://nicolaiarocci.com/images/favicon32x32.ico><link rel=apple-touch-icon href=https://nicolaiarocci.com/images/favicon.ico><link rel=mask-icon href=https://nicolaiarocci.com/images/favicon.ico><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate type=application/rss+xml href=https://nicolaiarocci.com/tags/dotnet/index.xml><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:title" content="dotnet"><meta property="og:description" content="This is the personal website of Nicola Iarocci, Software Craftsman."><meta property="og:type" content="website"><meta property="og:url" content="https://nicolaiarocci.com/tags/dotnet/"><meta property="og:site_name" content="Nicola Iarocci"><meta name=twitter:card content="summary"><meta name=twitter:title content="dotnet"><meta name=twitter:description content="This is the personal website of Nicola Iarocci, Software Craftsman."></head><body class=list id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://nicolaiarocci.com accesskey=h title="Nicola Iarocci (Alt + H)"><img src=https://nicolaiarocci.com/images/avatar.png alt aria-label=logo height=35>Nicola Iarocci</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://nicolaiarocci.com/about/ title=about><span>about</span></a></li><li><a href=https://nicolaiarocci.com/opensource/ title=code><span>code</span></a></li><li><a href=https://nicolaiarocci.com/speaking/ title=speaking><span>speaking</span></a></li><li><a href=https://nicolaiarocci.com/books-i-have-read/ title=library><span>library</span></a></li><li><a href=https://buttondown.email/nicolaiarocci title=newsletter><span>newsletter</span>&nbsp;<svg fill="none" shape-rendering="geometricPrecision" stroke="currentcolor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" viewBox="0 0 24 24" height="12" width="12"><path d="M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"/><path d="M15 3h6v6"/><path d="M10 14 21 3"/></svg></a></li><li><a href=https://nicolaiarocci.com/index.xml title=rss><span>rss</span></a></li><li><a href=https://nicolaiarocci.com/archives/ title=archive><span>archive</span></a></li><li><a href=https://nicolaiarocci.com/search/ title="search (Alt + /)" accesskey=/><span>search</span></a></li></ul></nav></header><main class=main><header class=page-header><h1>dotnet
<a href=/tags/dotnet/index.xml title=RSS aria-label=RSS><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" height="23"><path d="M4 11a9 9 0 019 9"/><path d="M4 4a16 16 0 0116 16"/><circle cx="5" cy="19" r="1"/></svg></a></h1></header><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>I am presenting on OAuth2 at two conferences this month</h2></header><div class=entry-content><p>I am speaking about OAuth2 and Open ID Connect with ASP.NET Core 8 at Rome .NET Conference 2024 on March 22 and then, less than a week later, at WebDay 2024 in Milan.
I am always particularly excited when I can present the stuff I’m currently working on. Being forced to share as I learn encourages me to go deeper into the topic to reinforce my comprehension and better explain it to the audience—a win-win situation....</p></div><footer class=entry-footer><span title='2024-03-05 10:36:21 +0100 CET'>March 5, 2024</span></footer><a class=entry-link aria-label="post link to I am presenting on OAuth2 at two conferences this month" href=https://nicolaiarocci.com/i-am-presenting-on-oauth2-at-two-conferences-this-month/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>Default ASP NET Core 8 port changed from 80 to 8080</h2></header><div class=entry-content><p>Today, I learned the hard way that the default port for ASP.NET Core 8 container images has been updated from port 80 to 8080, quite a remarkable breaking change.
We upgraded our web application from .NET 7 and let the CI pipeline do its work. Finally, we checked the application in the browser to ensure everything was okay, but unfortunately, we got a 502 Bad Gateway error. The Nginx logs revealed that the app was rejecting connections, which was unexpected because we didn’t make any changes there....</p></div><footer class=entry-footer><span title='2024-02-20 11:48:42 +0100 CET'>February 20, 2024</span></footer><a class=entry-link aria-label="post link to Default ASP NET Core 8 port changed from 80 to 8080" href=https://nicolaiarocci.com/default-asp-net-core-8-port-changed-from-80-to-8080/></a></article><article class="post-entry tag-entry"><figure class=entry-cover><img loading=lazy src=https://nicolaiarocci.com/images/dotnet-conference-italia.jpg alt="Early in the morning at the Microsoft House in Milan. Preparations underway"></figure><header class=entry-header><h2 class=entry-hint-parent>Video of my C# 12 session at .NET Conference Italia 2023</h2></header><div class=entry-content><p>The video and slides of my C# 12 session at .NET Conference Italia 2023 is finally available online. Unfortunately it’s just my voice and my laptop screen, and that’s too bad because the location was as cool as it can get, and the room was packed.
It is in Italian1 and you need to login in order to see it (sorry, I don’t have control over it.)
I also submitted to several international conferences; let’s see what happens....</p></div><footer class=entry-footer><span title='2024-01-26 15:39:31 +0100 CET'>January 26, 2024</span></footer><a class=entry-link aria-label="post link to Video of my C# 12 session at .NET Conference Italia 2023" href=https://nicolaiarocci.com/video-of-my-csharp-12-session-at-dotnet-conference-italia-2023/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>Fixing the "Failed to create CoreCLR error 0x80070008" error when starting a .NET 8 docker container</h2></header><div class=entry-content><p>Another day, another unexpected problem. Launching a .NET 8 app from a docker container, I got this error: Failed to create CoreCLR, HRESULT: 0x80070008.
I was puzzled as the same container ran smoothly in our test environment but not in production. I ruled out resource problems (memory or disk full, maybe?) but then compared the Docker Engine versions we run in test and production. Both were old (20. xx when 25 is available), but interestingly, the production version was older....</p></div><footer class=entry-footer><span title='2024-01-26 09:31:47 +0100 CET'>January 26, 2024</span></footer><a class=entry-link aria-label='post link to Fixing the "Failed to create CoreCLR error 0x80070008" error when starting a .NET 8 docker container' href=https://nicolaiarocci.com/fixing-the-failed-to-create-coreclr-error-0x80070008-error-when-starting-a-dotnet-docker-container/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>How to implement a PKCE code challenge in C#</h2></header><div class=entry-content><p>Today’s fun was implementing OAuth2’s RFC 7636’s PKCE (Proof Key for Code Exchange) in C#. It’s relatively straightforward, but I decided to share my implementation should it be helpful to someone else out there.
PKCE is an extension to the Authorization Code flow to prevent CSRF and authorization code injection attacks. [..] It was originally designed to protect the authorization code flow in mobile apps, but its ability to prevent authorization code injection makes it useful for every type of OAuth client, even web apps that use client authentication (source)....</p></div><footer class=entry-footer><span title='2024-01-17 18:28:14 +0100 CET'>January 17, 2024</span></footer><a class=entry-link aria-label="post link to How to implement a PKCE code challenge in C#" href=https://nicolaiarocci.com/how-to-implement-pkce-code-challenge-in-csharp/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>FatturaElettronica for .NET v3.4.13</h2></header><div class=entry-content><p>Today I released Fattura Elettronica for .NET v3.4.13. The Fattura Elettronica project allows for the validation and de/serialization of electronic invoices that adhere to the standard defined by Italian Revenue Agency (Agenzia Entrate). See the changelog for details (Italian).</p></div><footer class=entry-footer><span title='2024-01-08 14:57:59 +0100 CET'>January 8, 2024</span></footer><a class=entry-link aria-label="post link to FatturaElettronica for .NET v3.4.13" href=https://nicolaiarocci.com/fatturaelettronica-for-.net-v3.4.13/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>I am speaking at the .NET Conference Italia 2023</h2></header><div class=entry-content><p>In a few days, on Monday, December 4, at 10 a.m., I will present at the .NET Conference Italia 2023, which will be held at the Microsoft House in Milan. My session is titled “C#12 What’s new and interesting” and is part of a rich agenda focused on the recent release of .NET 8.
I presented on the same subject at a DevRomagna meetup a few months ago when C# 12 was in preview and still had several moving parts....</p></div><footer class=entry-footer><span title='2023-11-23 07:05:25 +0100 CET'>November 23, 2023</span></footer><a class=entry-link aria-label="post link to I am speaking at the .NET Conference Italia 2023" href=https://nicolaiarocci.com/i-am-speaking-at-the-dotnet-conference-italia-2023/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>How to use XmlWriter along with StringWriter to properly serialize a UTF-8 string</h2></header><div class=entry-content><p>Today, I (re)learned how to serialize an XML to a UTF-8 string. Like all the other times I did this, I got backstabbed by StringWriter, which only supports UTF-16. A simple code snippet like this:
await using var sw = new StringWriter(); await using var w = XmlWriter.Create(sw, new() { Async = true }); ... await w.FlushAsync(); return sw.ToString(); Will emit this output:
&lt;?xml version="1.0" encoding="utf-16"?>&lt;... There’s nothing inherently wrong with UTF-16, but XML is usually UTF-8, so one must do something about it....</p></div><footer class=entry-footer><span title='2023-11-09 07:05:25 +0100 CET'>November 9, 2023</span></footer><a class=entry-link aria-label="post link to How to use XmlWriter along with StringWriter to properly serialize a UTF-8 string" href=https://nicolaiarocci.com/how-to-use-xmlwriter-along-with-stringwriter-to-properly-serialize-a-utf-8-string/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>FatturaElettronica for .NET v3.4.11</h2></header><div class=entry-content><p>Fattura Elettronica for .NET v3.4.11 was released on NuGet today. The Fattura Elettronica project allows for the fixes a missing validation point. See the changelog for details (Italian). validation and de/serialization of electronic invoices following the Italian Revenue Agency standards.</p></div><footer class=entry-footer><span title='2023-10-27 07:05:25 +0100 +0100'>October 27, 2023</span></footer><a class=entry-link aria-label="post link to FatturaElettronica for .NET v3.4.11" href=https://nicolaiarocci.com/fatturaelettronica-for-.net-v3.4.11/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>LINQ DistinctBy on a property for .NET Standard and older .NET versions</h2></header><div class=entry-content><p>Today I learned how to implement a custom Enumerable.DistinctBy extension method that returns distinct elements from a sequence according to a specified key selector function.
.NET 6 and its successors have the method built in within LINQ, but I needed it in a .NET Standard 2.0 class library, so I was out of luck. My implementation is simple, not different from others I found online, and should also work fine with old ....</p></div><footer class=entry-footer><span title='2023-10-25 07:05:25 +0100 +0100'>October 25, 2023</span></footer><a class=entry-link aria-label="post link to LINQ DistinctBy on a property for .NET Standard and older .NET versions" href=https://nicolaiarocci.com/linq-distinctby-on-a-property-for-dotnet-standard-and-old-dotnet-versions/></a></article><footer class=page-footer><nav class=pagination><a class=prev href=https://nicolaiarocci.com/tags/dotnet/>«&nbsp;Prev&nbsp;
</a><a class=next href=https://nicolaiarocci.com/tags/dotnet/page/3/>Next&nbsp;&nbsp;»</a></nav></footer></main><footer class=footer><span>Produced / Written / Maintained by <a href=/>Nicola Iarocci</a> since 2010</span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>