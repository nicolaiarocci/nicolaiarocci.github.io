<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>My Top 7 New Features in .NET 7 | Nicola Iarocci</title>
<meta name=keywords content="dotnet,csharp,programming"><meta name=description content="The other day we did a [.NET 7 Spotlight][12] event at this month&rsquo;s [DevRomagna][13] meetup. The speakers were [Ugo Lattanzi][14] and me. In my session, I chose to talk about my top 7 new features in .NET 7 (pun intended.) What follows is a mix of my preparation notes and what I ended up really saying[^17].
1. Performance Since the initial release of &ldquo;new dotnet&rdquo; (.NET Core), performance has always been a critical goal for the ."><meta name=author content><link rel=canonical href=https://nicolaiarocci.com/my-top-7-new-features-in-.net-7/><link crossorigin=anonymous href=/assets/css/stylesheet.2d50b1531bd1b3146d65c5543bd298f7f982786aadee4c223cb3a1cb51906106.css integrity="sha256-LVCxUxvRsxRtZcVUO9KY9/mCeGqt7kwiPLOhy1GQYQY=" rel="preload stylesheet" as=style><link rel=icon href=https://nicolaiarocci.com/images/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://nicolaiarocci.com/images/favicon16x16.ico><link rel=icon type=image/png sizes=32x32 href=https://nicolaiarocci.com/images/favicon32x32.ico><link rel=apple-touch-icon href=https://nicolaiarocci.com/images/favicon.ico><link rel=mask-icon href=https://nicolaiarocci.com/images/favicon.ico><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:title" content="My Top 7 New Features in .NET 7"><meta property="og:description" content="The other day we did a [.NET 7 Spotlight][12] event at this month&rsquo;s [DevRomagna][13] meetup. The speakers were [Ugo Lattanzi][14] and me. In my session, I chose to talk about my top 7 new features in .NET 7 (pun intended.) What follows is a mix of my preparation notes and what I ended up really saying[^17].
1. Performance Since the initial release of &ldquo;new dotnet&rdquo; (.NET Core), performance has always been a critical goal for the ."><meta property="og:type" content="article"><meta property="og:url" content="https://nicolaiarocci.com/my-top-7-new-features-in-.net-7/"><meta property="article:section" content="post"><meta property="article:published_time" content="2022-12-04T07:05:25+01:00"><meta property="article:modified_time" content="2022-12-04T07:05:25+01:00"><meta property="og:site_name" content="Nicola Iarocci"><meta name=twitter:card content="summary"><meta name=twitter:title content="My Top 7 New Features in .NET 7"><meta name=twitter:description content="The other day we did a [.NET 7 Spotlight][12] event at this month&rsquo;s [DevRomagna][13] meetup. The speakers were [Ugo Lattanzi][14] and me. In my session, I chose to talk about my top 7 new features in .NET 7 (pun intended.) What follows is a mix of my preparation notes and what I ended up really saying[^17].
1. Performance Since the initial release of &ldquo;new dotnet&rdquo; (.NET Core), performance has always been a critical goal for the ."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":2,"name":"Posts","item":"https://nicolaiarocci.com/post/"},{"@type":"ListItem","position":3,"name":"My Top 7 New Features in .NET 7","item":"https://nicolaiarocci.com/my-top-7-new-features-in-.net-7/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"My Top 7 New Features in .NET 7","name":"My Top 7 New Features in .NET 7","description":"The other day we did a [.NET 7 Spotlight][12] event at this month\u0026rsquo;s [DevRomagna][13] meetup. The speakers were [Ugo Lattanzi][14] and me. In my session, I chose to talk about my top 7 new features in .NET 7 (pun intended.) What follows is a mix of my preparation notes and what I ended up really saying[^17].\n1. Performance Since the initial release of \u0026ldquo;new dotnet\u0026rdquo; (.NET Core), performance has always been a critical goal for the .","keywords":["dotnet","csharp","programming"],"articleBody":"The other day we did a [.NET 7 Spotlight][12] event at this month’s [DevRomagna][13] meetup. The speakers were [Ugo Lattanzi][14] and me. In my session, I chose to talk about my top 7 new features in .NET 7 (pun intended.) What follows is a mix of my preparation notes and what I ended up really saying[^17].\n1. Performance Since the initial release of “new dotnet” (.NET Core), performance has always been a critical goal for the .NET team. Starting with .NET 5, performance gains have been skyrocketing. .NET 6 was a lot faster than 5, and now, well, I’m surprised by the remarkable performance improvements in .NET 7. Stephen Toub posted a remarkably long (255 printed pages!) [in-depth analysis of the performance improvements in .NET 7][1]. one That was followed by articles dedicated to [ASP.NET Core 7][2] and [MAUI 7][3] performance gains. At .NETConf 2022, a particular slide caught everyone’s attention.\nI recall seeing the same slide at the .NET 5 release, so this one is must be updated version. I’m more impressed with the gRPC graph than the big “11x faster than Node” one. Being faster than Node doesn’t break the news these days, but being quicker than Go, C++ and Rust? That’s one bold statement you have right there.\nAn [exciting article][4] surfaced a while ago on this specific topic. In it, Dustin Moris Gorski presents an in-depth analysis of the ASP.NET Core 7 code used for the TechEmpower Framework Benchmark referenced in the above slide. The results are… fascinating. That code is undoubtedly not what mere mortals tend to run in their production systems. It is super-performance-optimized, often ditching canonical, built-in, and wildly adopted features in favor of low-level, high-performance and precisely hand-crafted alternatives. Dustin’s article is a masterpiece for several reasons; I suggest you invest your time [reading it][4].\nBut yeah, despite this glitch, the takeaway is that .NET 7 is speedy, faster than previous versions, and on par with, if not (far?) superior to, most stacks and frameworks. The [Stephen Toub’s article][1] is a testament to the massive work done and the achievements obtained.\nMost importantely, we get most of these speed benefits for free, just by upgrading to .NET 7. And the good new is, the upgrade is as easy as changing the framework moniker from, say, net6.0 to net7.0 and upgrading the Microsoft dependencies to v7.0.0.\n2. C# 11 required modifier As a consequence of the C# release cycle alignment to that of.NET itself (which is much faster), recent versions of C# see fewer features announcements than in the past. A good thing in my opinion. Of the several appreciable new features coming with C# 11, a remarkable one is the [required modifier][15].\nWhen you enable nullable checks in a project, non-nullable string properties are flagged with warning that they should be initialized with a non-null value when exiting the constructor:\nA common workaround has been these properties them with a null! value. That is like telling the compiler that we know they should be initialized with a non-nullable, but well, let’s initialize them with a null value first, just in case. It’ll all be sorted later in the code. Somewhat awkward and prone to errors. Also, battling the compiler like that is a tedious task.\nEnter the required keyword. When you flag a property with required, the IntelliSense engine will report an error if the property value is not set at initialization, not at declaration.\nWhen someone initializes our class instance, he/she’s required to set an explicit value for our property. Notice how we went from a warning (which will compile) to an error (which won’t compile). Once you start using this feature, it feels so obvious and natural that you wonder why it wasn’t there right from start.\n3. C# 11 raw string literals In C# 11, wrapping a string with triple-double-quotes makes it a [raw literal][5]. Its main benefits are that no escaping of double-quotes is necessary, and newlines are allowed within the string.\nvar xml = \"\"\" \"\"\"; The code looks natural, and no runtime costs for specialized string manipulation are required. One caveat is that string literals naturally remove the indentation when producing the final literal value. The snippet above prints as:\nWe can disable indentation removal like so:\nvar xml = \"\"\" \"\"\"; String interpolation is also supported:\nvar json = $$\"\"\" { \"summary\": \"text\", \"length\" : {{value.Length}}, }; \"\"\" In hindsight, like the required modifier, raw string literals appear as obvious.\n4. Built-in container support .NET 7 has [built-in container support][6], meaning that dotnet publish can now output to a container image instead of a directory. We control image names, tags, and other settings (like the base image) via dedicated .csproj tags. Two requirements:\nDocker must be running when we issue the publish command; The Microsoft.NET.Build.Containers package must be added to the project as a package reference. In my demo, I had a small console application that I published to a docker image by simply issuing the following command:\n$ dotnet publish --os linux --arch x64 /t:PublishContainer -c Release I did not mention a Dockerfile, and that’s because it is not needed anymore. All my projects deploy to docker containers and are already migrated to .NET 7. I’m currently using Dockerfiles, but I’ll be experimenting with this alternative in the coming weeks, both with builds and remote CI builds.\n5. Native AOT [Native AOT][7] produces a standalone executable in the target platform’s file format, with no external dependencies. It’s native, with no IL or JIT involved, and provides fast startup time and a small, self-contained deployment.\nIn my demo, I just needed to add a true tag to the .csproj, and then the dotnet publish -c Release command produced a single-file, macOS native executable. You can set the destination platform at build-time like so:\n$ dotnet publish -r win-x64 -c Release Native AOT will be determinant in a number of use cases, like multi-cloud-deployments, lambda functions, and, in general, hyper-scale services. ASP.NET Core is currently not supported, so we’re limited to console apps.\n6 and 7. Rate-limiting and output caching Ok, these are two, not one. Luckily, my pal Ugo, who was demoing ASP.NET Core 7 parts after me, took charge of showing these.\nI briefly mentioned that rate-limiting and output caching are key features in mature production systems. Until today, we had to bake them in-house or rely on third-party packages. I’ve been using LazyCache and AspNetCoreRateLimit myself. The latter [recently acknowledged][8] the arrival of rate-limiting in .NET 7 and embraced it in a new package that offers Redis as a rate-limiting backend. [Rate-limiting][9] and [output caching][10] are now part of the ASP.NET Core framework, and that’s where they belong.\n8. Minimal APIs group routes I know I said 7. I don’t use minimal APIs in production yet, but [group routing][11] is beautiful and something I’ll be employing on the first occasion. During the meetup, an interesting (and much-expected) discussion ensued on the usefulness of minimal APIs. Veterans of many battles don’t deem them necessary, especially in real-world use cases, which is actually accurate: one can keep relying on the canonical MVC approach. The sentiment was that Minimal APIs are mostly targeted to newcomers, which is probably true[^16]. As someone coming from the Python REST ecosystem, I dig them a lot. They evolve rapidly and I’m sure we’ll soon see them in action in complex, real scenarios.\n","wordCount":"1247","inLanguage":"en","datePublished":"2022-12-04T07:05:25+01:00","dateModified":"2022-12-04T07:05:25+01:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://nicolaiarocci.com/my-top-7-new-features-in-.net-7/"},"publisher":{"@type":"Organization","name":"Nicola Iarocci","logo":{"@type":"ImageObject","url":"https://nicolaiarocci.com/images/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://nicolaiarocci.com accesskey=h title="Home (Alt + H)"><img src=https://nicolaiarocci.com/images/avatar.png alt aria-label=logo height=35>Home</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://nicolaiarocci.com/opensource/ title=code><span>code</span></a></li><li><a href=https://nicolaiarocci.com/speaking/ title=speaking><span>speaking</span></a></li><li><a href=https://nicolaiarocci.com/books-i-have-read/ title=library><span>library</span></a></li><li><a href=https://buttondown.email/nicolaiarocci title=newsletter><span>newsletter</span>&nbsp;<svg fill="none" shape-rendering="geometricPrecision" stroke="currentcolor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" viewBox="0 0 24 24" height="12" width="12"><path d="M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"/><path d="M15 3h6v6"/><path d="M10 14 21 3"/></svg></a></li><li><a href=https://nicolaiarocci.com/index.xml title=rss><span>rss</span></a></li><li><a href=https://nicolaiarocci.com/archives/ title=archive><span>archive</span></a></li><li><a href=https://nicolaiarocci.com/search/ title="search (Alt + /)" accesskey=/><span>search</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class="post-title entry-hint-parent">My Top 7 New Features in .NET 7</h1><div class=post-meta><span title='2022-12-04 07:05:25 +0100 CET'>December 4, 2022</span></div></header><div class=post-content><p>The other day we did a [.NET 7 Spotlight][12] event at this month&rsquo;s
[DevRomagna][13] meetup. The speakers were [Ugo Lattanzi][14] and me. In my
session, I chose to talk about my top 7 new features in .NET 7 (pun intended.)
What follows is a mix of my preparation notes and what I ended up really
saying[^17].</p><h2 id=1-performance>1. Performance<a hidden class=anchor aria-hidden=true href=#1-performance>#</a></h2><p>Since the initial release of &ldquo;new dotnet&rdquo; (.NET Core), performance has always
been a critical goal for the .NET team. Starting with .NET 5, performance gains
have been skyrocketing. .NET 6 was <em>a lot</em> faster than 5, and now, well, I&rsquo;m
surprised by the remarkable performance improvements in .NET 7. Stephen Toub
posted a remarkably long (255 printed pages!) [in-depth analysis of the
performance improvements in .NET 7][1]. one That was followed by articles
dedicated to [ASP.NET Core 7][2] and [MAUI 7][3] performance gains. At .NETConf
2022, a particular slide caught everyone&rsquo;s attention.</p><p><img loading=lazy src=/images/dotnetconf22.png alt></p><p>I recall seeing the same slide at the .NET 5 release, so this one is must be
updated version. I&rsquo;m more impressed with the gRPC graph than the big &ldquo;11x
faster than Node&rdquo; one. Being faster than Node doesn&rsquo;t break the news these days,
but being quicker than Go, C++ and Rust? That&rsquo;s one bold statement you have
right there.</p><p>An [exciting article][4] surfaced a while ago on this specific topic. In it,
Dustin Moris Gorski presents an in-depth analysis of the ASP.NET Core 7 code
used for the TechEmpower Framework Benchmark referenced in the above slide. The
results are&mldr; fascinating. That code is undoubtedly <em>not</em> what mere mortals
tend to run in their production systems. It is super-performance-optimized,
often ditching canonical, built-in, and wildly adopted features in favor of
low-level, high-performance and precisely hand-crafted alternatives. Dustin&rsquo;s
article is a masterpiece for several reasons; I suggest you invest your time
[reading it][4].</p><p>But yeah, despite this glitch, the takeaway is that .NET 7 is speedy, faster
than previous versions, and on par with, if not (far?) superior to, most stacks
and frameworks. The [Stephen Toub&rsquo;s article][1] is a testament to the massive
work done and the achievements obtained.</p><p>Most importantely, we get most of these speed benefits for free, just by
upgrading to .NET 7. And the good new is, the upgrade is as easy as changing
the framework moniker from, say, <code>net6.0</code> to <code>net7.0</code> and upgrading the
Microsoft dependencies to v7.0.0.</p><h2 id=2-c-11-required-modifier>2. C# 11 <code>required</code> modifier<a hidden class=anchor aria-hidden=true href=#2-c-11-required-modifier>#</a></h2><p>As a consequence of the C# release cycle alignment to that of.NET itself (which
is much faster), recent versions of C# see fewer features announcements than in
the past. A good thing in my opinion. Of the several appreciable new features
coming with C# 11, a remarkable one is the [<code>required</code> modifier][15].</p><p>When you enable nullable checks in a project, non-nullable string properties
are flagged with warning that they should be initialized with a non-null value
when exiting the constructor:</p><p><img loading=lazy src=/images/required-keyword1.png alt></p><p>A common workaround has been these properties them with a <code>null!</code> value. That
is like telling the compiler that we know they should be initialized with a
non-nullable, but well, let&rsquo;s initialize them with a null value first, just in
case. It&rsquo;ll all be sorted later in the code. Somewhat awkward and prone to
errors. Also, battling the compiler like that is a tedious task.</p><p>Enter the <code>required</code> keyword. When you flag a property with <code>required,</code> the
IntelliSense engine will report an error if the property value is not set <em>at
initialization</em>, not at declaration.</p><p><img loading=lazy src=/images/required-keyword2.png alt></p><p>When someone initializes our class instance, he/she&rsquo;s <em>required</em> to set an
explicit value for our property. Notice how we went from a warning (which
will compile) to an error (which won&rsquo;t compile). Once you start using this
feature, it feels so obvious and natural that you wonder why it wasn&rsquo;t there
right from start.</p><h2 id=3-c-11-raw-string-literals>3. C# 11 raw string literals<a hidden class=anchor aria-hidden=true href=#3-c-11-raw-string-literals>#</a></h2><p>In C# 11, wrapping a string with triple-double-quotes makes it a [raw
literal][5]. Its main benefits are that no escaping of double-quotes is
necessary, and newlines are allowed within the string.</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-gdscript3 data-lang=gdscript3><span style=display:flex><span><span style=font-weight:700>var</span> xml = <span style=font-style:italic>&#34;&#34;&#34;
</span></span></span><span style=display:flex><span><span style=font-style:italic>          &lt;element attr=&#34;content&#34;&gt;
</span></span></span><span style=display:flex><span><span style=font-style:italic>            &lt;body&gt;
</span></span></span><span style=display:flex><span><span style=font-style:italic>            &lt;/body&gt;
</span></span></span><span style=display:flex><span><span style=font-style:italic>          &lt;/element&gt;
</span></span></span><span style=display:flex><span><span style=font-style:italic>          &#34;&#34;&#34;</span>;
</span></span></code></pre></div><p>The code looks natural, and no runtime costs for specialized string
manipulation are required. One caveat is that string literals naturally remove
the indentation when producing the final literal value. The snippet above
prints as:</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback><span style=display:flex><span>&lt;element attr=&#34;content&#34;&gt;
</span></span><span style=display:flex><span>  &lt;body&gt;
</span></span><span style=display:flex><span>  &lt;/body&gt;
</span></span><span style=display:flex><span>&lt;/element&gt;
</span></span></code></pre></div><p>We can disable indentation removal like so:</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-gdscript3 data-lang=gdscript3><span style=display:flex><span><span style=font-weight:700>var</span> xml = <span style=font-style:italic>&#34;&#34;&#34;
</span></span></span><span style=display:flex><span><span style=font-style:italic>          &lt;element attr=&#34;content&#34;&gt;
</span></span></span><span style=display:flex><span><span style=font-style:italic>            &lt;body&gt;
</span></span></span><span style=display:flex><span><span style=font-style:italic>            &lt;/body&gt;
</span></span></span><span style=display:flex><span><span style=font-style:italic>          &lt;/element&gt;
</span></span></span><span style=display:flex><span><span style=font-style:italic>&#34;&#34;&#34;</span>;
</span></span></code></pre></div><p>String interpolation is also supported:</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-gdscript3 data-lang=gdscript3><span style=display:flex><span><span style=font-weight:700>var</span> json = $$<span style=font-style:italic>&#34;&#34;&#34;
</span></span></span><span style=display:flex><span><span style=font-style:italic>             {
</span></span></span><span style=display:flex><span><span style=font-style:italic>                &#34;summary&#34;: &#34;text&#34;,
</span></span></span><span style=display:flex><span><span style=font-style:italic>                &#34;length&#34; : {{value.Length}},
</span></span></span><span style=display:flex><span><span style=font-style:italic>             };
</span></span></span><span style=display:flex><span><span style=font-style:italic>             &#34;&#34;&#34;</span>
</span></span></code></pre></div><p>In hindsight, like the <code>required</code> modifier, raw string literals appear as
obvious.</p><h2 id=4-built-in-container-support>4. Built-in container support<a hidden class=anchor aria-hidden=true href=#4-built-in-container-support>#</a></h2><p>.NET 7 has [built-in container support][6], meaning that <code>dotnet publish</code> can
now output to a container image instead of a directory. We control image names,
tags, and other settings (like the base image) via dedicated <code>.csproj</code> tags. Two
requirements:</p><ul><li>Docker must be running when we issue the <code>publish</code> command;</li><li>The <code>Microsoft.NET.Build.Containers</code> package must be added to the project as
a package reference.</li></ul><p>In my demo, I had a small console application that I published to a docker
image by simply issuing the following command:</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback><span style=display:flex><span>$ dotnet publish --os linux --arch x64 /t:PublishContainer -c Release
</span></span></code></pre></div><p>I did not mention a Dockerfile, and that&rsquo;s because it is not needed anymore.
All my projects deploy to docker containers and are already migrated to .NET 7.
I&rsquo;m currently using Dockerfiles, but I&rsquo;ll be experimenting with this
alternative in the coming weeks, both with builds and remote CI builds.</p><h2 id=5-native-aot>5. Native AOT<a hidden class=anchor aria-hidden=true href=#5-native-aot>#</a></h2><p>[Native AOT][7] produces a standalone executable in the target platform&rsquo;s file
format, with no external dependencies. It&rsquo;s native, with no IL or JIT involved,
and provides fast startup time and a small, self-contained deployment.</p><p>In my demo, I just needed to add a <code>&lt;PublishAot>true&lt;/PublishAot></code> tag to the
<code>.csproj</code>, and then the <code>dotnet publish -c Release</code> command produced a
single-file, macOS native executable. You can set the destination platform at
build-time like so:</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback><span style=display:flex><span>$ dotnet publish -r win-x64 -c Release
</span></span></code></pre></div><p>Native AOT will be determinant in a number of use cases, like
multi-cloud-deployments, lambda functions, and, in general, hyper-scale
services. ASP.NET Core is currently not supported, so we&rsquo;re limited to console
apps.</p><h2 id=6-and-7-rate-limiting-and-output-caching>6 and 7. Rate-limiting and output caching<a hidden class=anchor aria-hidden=true href=#6-and-7-rate-limiting-and-output-caching>#</a></h2><p>Ok, these are two, not one. Luckily, my pal Ugo, who was demoing ASP.NET Core 7
parts after me, took charge of showing these.</p><p>I briefly mentioned that rate-limiting and output caching are key features in
mature production systems. Until today, we had to bake them in-house or rely on
third-party packages. I&rsquo;ve been using LazyCache and AspNetCoreRateLimit myself.
The latter [recently acknowledged][8] the arrival of rate-limiting in .NET 7 and
embraced it in a new package that offers Redis as a rate-limiting backend.
[Rate-limiting][9] and [output caching][10] are now part of the ASP.NET Core
framework, and that&rsquo;s where they belong.</p><h2 id=8-minimal-apis-group-routes>8. Minimal APIs group routes<a hidden class=anchor aria-hidden=true href=#8-minimal-apis-group-routes>#</a></h2><p>I know I said 7. I don&rsquo;t use minimal APIs in production yet, but [group
routing][11] is beautiful and something I&rsquo;ll be employing on the first
occasion. During the meetup, an interesting (and much-expected) discussion
ensued on the usefulness of minimal APIs. Veterans of many battles don&rsquo;t deem
them necessary, especially in real-world use cases, which is actually accurate:
one can keep relying on the canonical MVC approach. The sentiment was that
Minimal APIs are mostly targeted to newcomers, which is probably true[^16]. As
someone coming from the Python REST ecosystem, I dig them a lot. They evolve
rapidly and I&rsquo;m sure we&rsquo;ll soon see them in action in complex, real scenarios.</p><i>Subscribe to my <a href=https://buttondown.email/nicolaiarocci>newsletter</a> or the <a href=/index.xml>RSS
feed</a>. Follow me on <a href=https://fosstodon.org/@nicola>Mastodon</a> or <a href=https://twitter.com/nicolaiarocci>X</a>.</div><footer class=post-footer><ul class=post-tags><li><a href=https://nicolaiarocci.com/tags/dotnet/>dotnet</a></li><li><a href=https://nicolaiarocci.com/tags/csharp/>csharp</a></li><li><a href=https://nicolaiarocci.com/tags/programming/>programming</a></li></ul></footer></article></main><footer class=footer><span>Produced / Written / Maintained by <a href=/>Nicola Iarocci</a> since 2010</span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>