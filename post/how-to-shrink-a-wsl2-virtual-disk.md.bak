---
date: 2021-03-12T07:05:25+01:00
title: "How to Shrink a WSL2 Virtual Disk"
share: false
tags: ["til", "links"]
---
> I discovered you can use the "diskpart" tool to compact a VHDX. This allows
> you to shrink a WSL2 virtual disk file, reclaiming disk space. It appeared to
> work for me without any data corruption, taking the file size down from 100GB
> to 15GB. ([source](https://stephenreescarter.net/how-to-shrink-a-wsl2-virtual-disk/))

I adore Parallels "reclaim disk space" feature. Just the other day, I got back
70GB off my Windows Guest in a breeze. I'm coming from VirtualBox, where
reclaiming disk space is a significant pain. I would expect `optimize-vhd` to
achieve the goal with WSL2, but it's nice to know there are alternatives, like
Stephen's above

*Subscribe to the [newsletter][nl], the [RSS feed][rss], or follow @[nicolaiarocci][tw] on Twitter*

 [rss]: https://nicolaiarocci.com/index.xml
 [tw]: http://twitter.com/nicolaiarocci
 [nl]: https://buttondown.email/nicolaiarocci
