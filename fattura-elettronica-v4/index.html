<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Fattura Elettronica v4 | Nicola Iarocci</title>
<meta name=keywords content="dotnet,open-source,fattura elettronica"><meta name=description content="I just released FatturaElettronica.NET v4. The major version bump is due to a minor breaking change introduced with this version.
After removing the BouncyCastle dependency (v3.4.16) for signature, content extraction, and encoding purposes, a few minor behavioral changes were introduced in the library.

It was previously possible to extract content from documents with tampered signatures (if signature validation was flagged false)
Signature exceptions were being misreported as Base64 FormatExceptions for non-base64 input files

After a lengthy analysis and troubleshooting, it was determined that System.Cryptography (which now replaces BouncyCastle) cannot support the successful decoding of tampered invoices. However, this is undesirable as a feature in the first place. The result is a breaking change: attempting to read tampered documents will now invariably throw SignatureException."><meta name=author content><link rel=canonical href=https://nicolaiarocci.com/fattura-elettronica-v4/><link crossorigin=anonymous href=/assets/css/stylesheet.45e028aa8ce0961349adf411b013ee39406be2c0bc80d4ea3fc04555f7f4611a.css integrity="sha256-ReAoqozglhNJrfQRsBPuOUBr4sC8gNTqP8BFVff0YRo=" rel="preload stylesheet" as=style><link rel=icon href=https://nicolaiarocci.com/images/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://nicolaiarocci.com/images/favicon16x16.ico><link rel=icon type=image/png sizes=32x32 href=https://nicolaiarocci.com/images/favicon32x32.ico><link rel=apple-touch-icon href=https://nicolaiarocci.com/images/favicon.ico><link rel=mask-icon href=https://nicolaiarocci.com/images/favicon.ico><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://nicolaiarocci.com/fattura-elettronica-v4/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:url" content="https://nicolaiarocci.com/fattura-elettronica-v4/"><meta property="og:site_name" content="Nicola Iarocci"><meta property="og:title" content="Fattura Elettronica v4"><meta property="og:description" content="I just released FatturaElettronica.NET v4. The major version bump is due to a minor breaking change introduced with this version.
After removing the BouncyCastle dependency (v3.4.16) for signature, content extraction, and encoding purposes, a few minor behavioral changes were introduced in the library.
It was previously possible to extract content from documents with tampered signatures (if signature validation was flagged false) Signature exceptions were being misreported as Base64 FormatExceptions for non-base64 input files After a lengthy analysis and troubleshooting, it was determined that System.Cryptography (which now replaces BouncyCastle) cannot support the successful decoding of tampered invoices. However, this is undesirable as a feature in the first place. The result is a breaking change: attempting to read tampered documents will now invariably throw SignatureException."><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="article:section" content="post"><meta property="article:published_time" content="2025-06-16T15:51:28+02:00"><meta property="article:modified_time" content="2025-06-16T15:51:28+02:00"><meta property="article:tag" content="Dotnet"><meta property="article:tag" content="Open Source"><meta property="article:tag" content="Fattura-Elettronica"><meta name=twitter:card content="summary"><meta name=twitter:title content="Fattura Elettronica v4"><meta name=twitter:description content="I just released FatturaElettronica.NET v4. The major version bump is due to a minor breaking change introduced with this version.
After removing the BouncyCastle dependency (v3.4.16) for signature, content extraction, and encoding purposes, a few minor behavioral changes were introduced in the library.

It was previously possible to extract content from documents with tampered signatures (if signature validation was flagged false)
Signature exceptions were being misreported as Base64 FormatExceptions for non-base64 input files

After a lengthy analysis and troubleshooting, it was determined that System.Cryptography (which now replaces BouncyCastle) cannot support the successful decoding of tampered invoices. However, this is undesirable as a feature in the first place. The result is a breaking change: attempting to read tampered documents will now invariably throw SignatureException."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://nicolaiarocci.com/post/"},{"@type":"ListItem","position":2,"name":"Fattura Elettronica v4","item":"https://nicolaiarocci.com/fattura-elettronica-v4/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Fattura Elettronica v4","name":"Fattura Elettronica v4","description":"I just released FatturaElettronica.NET v4. The major version bump is due to a minor breaking change introduced with this version.\nAfter removing the BouncyCastle dependency (v3.4.16) for signature, content extraction, and encoding purposes, a few minor behavioral changes were introduced in the library.\nIt was previously possible to extract content from documents with tampered signatures (if signature validation was flagged false) Signature exceptions were being misreported as Base64 FormatExceptions for non-base64 input files After a lengthy analysis and troubleshooting, it was determined that System.Cryptography (which now replaces BouncyCastle) cannot support the successful decoding of tampered invoices. However, this is undesirable as a feature in the first place. The result is a breaking change: attempting to read tampered documents will now invariably throw SignatureException.\n","keywords":["dotnet","open-source","fattura elettronica"],"articleBody":"I just released FatturaElettronica.NET v4. The major version bump is due to a minor breaking change introduced with this version.\nAfter removing the BouncyCastle dependency (v3.4.16) for signature, content extraction, and encoding purposes, a few minor behavioral changes were introduced in the library.\nIt was previously possible to extract content from documents with tampered signatures (if signature validation was flagged false) Signature exceptions were being misreported as Base64 FormatExceptions for non-base64 input files After a lengthy analysis and troubleshooting, it was determined that System.Cryptography (which now replaces BouncyCastle) cannot support the successful decoding of tampered invoices. However, this is undesirable as a feature in the first place. The result is a breaking change: attempting to read tampered documents will now invariably throw SignatureException.\nMany thanks to Paolo Manili, aka Delta-38, for contributing this remarkable update.\n","wordCount":"135","inLanguage":"en","datePublished":"2025-06-16T15:51:28+02:00","dateModified":"2025-06-16T15:51:28+02:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://nicolaiarocci.com/fattura-elettronica-v4/"},"publisher":{"@type":"Organization","name":"Nicola Iarocci","logo":{"@type":"ImageObject","url":"https://nicolaiarocci.com/images/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://nicolaiarocci.com/ accesskey=h title="Nicola Iarocci (Alt + H)"><img src=https://nicolaiarocci.com/images/avatar.png alt aria-label=logo height=35>Nicola Iarocci</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://buttondown.email/nicolaiarocci title=subscribe><span>subscribe</span>&nbsp;<svg fill="none" shape-rendering="geometricPrecision" stroke="currentcolor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" viewBox="0 0 24 24" height="12" width="12"><path d="M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"/><path d="M15 3h6v6"/><path d="M10 14 21 3"/></svg></a></li><li><a href=https://nicolaiarocci.com/opensource/ title=code><span>code</span></a></li><li><a href=https://nicolaiarocci.com/speaking/ title=speaking><span>speaking</span></a></li><li><a href=https://nicolaiarocci.com/books-i-have-read/ title=library><span>library</span></a></li><li><a href=https://nicolaiarocci.com/search/ title="search (Alt + /)" accesskey=/><span>search</span></a></li><li><a href=https://nicolaiarocci.com/archives/ title=archive><span>archive</span></a></li><li><a href=https://nicolaiarocci.com/about/ title=about><span>about</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class="post-title entry-hint-parent">Fattura Elettronica v4</h1><div class=post-meta><span title='2025-06-16 15:51:28 +0200 CEST'>June 16, 2025</span></div></header><div class=post-content><p>I just released <a href=https://www.nuget.org/packages/FatturaElettronica/4.0.0>FatturaElettronica.NET v4</a>. The major version bump is due to a minor breaking change introduced with this version.</p><p>After removing the BouncyCastle dependency (<a href=https://fatturaelettronicaopensource.org/docs/changelog.html#v-3416>v3.4.16</a>) for signature, content extraction, and encoding purposes, a few minor behavioral changes were introduced in the library.</p><ol><li>It was previously possible to extract content from documents with tampered signatures (if signature validation was flagged false)</li><li>Signature exceptions were being misreported as Base64 <code>FormatExceptions</code> for non-base64 input files</li></ol><p>After a <a href=https://github.com/FatturaElettronica/FatturaElettronica.NET/issues/431>lengthy analysis and troubleshooting</a>, it was determined that System.Cryptography (which now replaces BouncyCastle) cannot support the successful decoding of tampered invoices. However, this is undesirable as a feature in the first place. The result is a breaking change: attempting to read tampered documents will now invariably throw <code>SignatureException</code>.</p><p>Many thanks to Paolo Manili, aka Delta-38, for <a href=https://github.com/FatturaElettronica/FatturaElettronica.NET/pull/434>contributing</a> this remarkable update.</p></div><footer class=post-footer><ul class=post-tags><li><a href=https://nicolaiarocci.com/tags/dotnet/>Dotnet</a></li><li><a href=https://nicolaiarocci.com/tags/open-source/>Open Source</a></li><li><a href=https://nicolaiarocci.com/tags/fattura-elettronica/>Fattura-Elettronica</a></li></ul><nav class=paginav><a class=prev href=https://nicolaiarocci.com/marp-the-markdown-presentation-ecosystem/><span class=title>« Prev</span><br><span>Marp, the markdown presentation ecosystem</span>
</a><a class=next href=https://nicolaiarocci.com/blogs-are-still-a-thing/><span class=title>Next »</span><br><span>Blogs are still a thing</span></a></nav></footer></article></main><footer class=footer><span>Produced / Written / Maintained by <a href=/>Nicola Iarocci</a> since 2010</span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>