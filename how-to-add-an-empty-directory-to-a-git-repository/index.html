<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>How to add an empty directory to a Git repository | Nicola Iarocci</title>
<meta name=keywords content="til,git"><meta name=description content="How do you add an empty directory to a Git repository? It&rsquo;s a classic, and yet, I have to look it up every single time. Git does not support this out of the box:
Currently the design of the Git index (staging area) only permits files to be listed, and nobody competent enough to make the change to allow empty directories has cared enough about this situation to remedy it. Directories are added automatically when adding files inside them."><meta name=author content><link rel=canonical href=https://nicolaiarocci.com/how-to-add-an-empty-directory-to-a-git-repository/><link crossorigin=anonymous href=/assets/css/stylesheet.b609c58d5c11bb90b1a54e04005d74ad1ddf22165eb79f5533967e57df9c3b50.css integrity="sha256-tgnFjVwRu5CxpU4EAF10rR3fIhZet59VM5Z+V9+cO1A=" rel="preload stylesheet" as=style><link rel=icon href=https://nicolaiarocci.com/images/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://nicolaiarocci.com/images/favicon16x16.ico><link rel=icon type=image/png sizes=32x32 href=https://nicolaiarocci.com/images/favicon32x32.ico><link rel=apple-touch-icon href=https://nicolaiarocci.com/images/favicon.ico><link rel=mask-icon href=https://nicolaiarocci.com/images/favicon.ico><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:title" content="How to add an empty directory to a Git repository"><meta property="og:description" content="How do you add an empty directory to a Git repository? It&rsquo;s a classic, and yet, I have to look it up every single time. Git does not support this out of the box:
Currently the design of the Git index (staging area) only permits files to be listed, and nobody competent enough to make the change to allow empty directories has cared enough about this situation to remedy it. Directories are added automatically when adding files inside them."><meta property="og:type" content="article"><meta property="og:url" content="https://nicolaiarocci.com/how-to-add-an-empty-directory-to-a-git-repository/"><meta property="article:section" content="post"><meta property="article:published_time" content="2021-03-22T07:05:25+01:00"><meta property="article:modified_time" content="2021-03-22T07:05:25+01:00"><meta property="og:site_name" content="Nicola Iarocci"><meta name=twitter:card content="summary"><meta name=twitter:title content="How to add an empty directory to a Git repository"><meta name=twitter:description content="How do you add an empty directory to a Git repository? It&rsquo;s a classic, and yet, I have to look it up every single time. Git does not support this out of the box:
Currently the design of the Git index (staging area) only permits files to be listed, and nobody competent enough to make the change to allow empty directories has cared enough about this situation to remedy it. Directories are added automatically when adding files inside them."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://nicolaiarocci.com/post/"},{"@type":"ListItem","position":2,"name":"How to add an empty directory to a Git repository","item":"https://nicolaiarocci.com/how-to-add-an-empty-directory-to-a-git-repository/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"How to add an empty directory to a Git repository","name":"How to add an empty directory to a Git repository","description":"How do you add an empty directory to a Git repository? It\u0026rsquo;s a classic, and yet, I have to look it up every single time. Git does not support this out of the box:\nCurrently the design of the Git index (staging area) only permits files to be listed, and nobody competent enough to make the change to allow empty directories has cared enough about this situation to remedy it. Directories are added automatically when adding files inside them.","keywords":["til","git"],"articleBody":"How do you add an empty directory to a Git repository? It’s a classic, and yet, I have to look it up every single time. Git does not support this out of the box:\nCurrently the design of the Git index (staging area) only permits files to be listed, and nobody competent enough to make the change to allow empty directories has cared enough about this situation to remedy it. Directories are added automatically when adding files inside them. That is, directories never have to be added to the repository, and are not tracked on their own. You can say git add and it will add the files in there. If you really need a directory to exist in checkouts you should create a file in it. .gitignore works well for this purpose; you can leave it empty or fill in the names of files you do not expect to show up in the directory. (source)\nThe same answer offers a workaround: just save an empty .gitignore file into the directory. At that point, git status shows the file as untracked. We can add it to the repository, and presto, our folder ends up captured in version control.\nI don’t like using .gitignore for this. That file serves a different, unrelated goal. Finding it in an otherwise empty directory would cause puzzlement to my colleagues and my future self in six months. For better semantic and clarity, what I do is add a .keep file instead:\n$ touch mydir/.keep Same trick. Better semantics. When I pull this repository in six months, I will immediately grasp what’s going on (an alternative would be a README.md file with an explanation.)\nOf course, if the dir is meant to fill-up over time, but we still want to ignore its future contents in version control, then .gitignore is the right tool for the job. Something like this would work (I dug it up on Stack Overflow, where else):\n# Ignore everything in this directory * # Except this file !.gitignore I should probably adopt the #tirl tag, as in “Today I Re-Learned.”\n","wordCount":"349","inLanguage":"en","datePublished":"2021-03-22T07:05:25+01:00","dateModified":"2021-03-22T07:05:25+01:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://nicolaiarocci.com/how-to-add-an-empty-directory-to-a-git-repository/"},"publisher":{"@type":"Organization","name":"Nicola Iarocci","logo":{"@type":"ImageObject","url":"https://nicolaiarocci.com/images/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://nicolaiarocci.com accesskey=h title="Nicola Iarocci (Alt + H)"><img src=https://nicolaiarocci.com/images/avatar.png alt aria-label=logo height=35>Nicola Iarocci</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://nicolaiarocci.com/about/ title=about><span>about</span></a></li><li><a href=https://nicolaiarocci.com/opensource/ title=code><span>code</span></a></li><li><a href=https://nicolaiarocci.com/speaking/ title=speaking><span>speaking</span></a></li><li><a href=https://nicolaiarocci.com/books-i-have-read/ title=library><span>library</span></a></li><li><a href=https://buttondown.email/nicolaiarocci title="newsletter list"><span>newsletter list</span>&nbsp;<svg fill="none" shape-rendering="geometricPrecision" stroke="currentcolor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" viewBox="0 0 24 24" height="12" width="12"><path d="M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"/><path d="M15 3h6v6"/><path d="M10 14 21 3"/></svg></a></li><li><a href=https://nicolaiarocci.com/index.xml title=rss><span>rss</span></a></li><li><a href=https://nicolaiarocci.com/archives/ title=archive><span>archive</span></a></li><li><a href=https://nicolaiarocci.com/search/ title="search (Alt + /)" accesskey=/><span>search</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class="post-title entry-hint-parent">How to add an empty directory to a Git repository</h1><div class=post-meta><span title='2021-03-22 07:05:25 +0100 CET'>March 22, 2021</span></div></header><div class=post-content><p>How do you add an empty directory to a Git repository? It&rsquo;s a classic, and yet,
I have to look it up every single time. Git does not support this out of the
box:</p><blockquote><p>Currently the design of the Git index (staging area) only permits files to be
listed, and nobody competent enough to make the change to allow empty
directories has cared enough about this situation to remedy it. Directories
are added automatically when adding files inside them. That is, directories
never have to be added to the repository, and are not tracked on their own.
You can say <code>git add &lt;dir></code> and it will add the files in there. <strong>If you really
need a directory to exist in checkouts you should create a file in it</strong>.
.gitignore works well for this purpose; you can leave it empty or fill in
the names of files you do not expect to show up in the directory.
(<a href=https://git.wiki.kernel.org/index.php/GitFaq#Can_I_add_empty_directories.3F>source</a>)</p></blockquote><p>The same answer offers a workaround: just save an empty .gitignore file into
the directory. At that point, <code>git status</code> shows the file as untracked. We can
add it to the repository, and <em>presto</em>, our folder ends up captured in version
control.</p><p>I don&rsquo;t like using .gitignore for this. That file serves a different,
unrelated goal. Finding it in an otherwise empty directory would cause
puzzlement to my colleagues and my future self in six months. For better
semantic and clarity, what I do is add a <code>.keep</code> file instead:</p><pre><code>$ touch mydir/.keep
</code></pre><p>Same trick. Better semantics. When I pull this repository in six months, I will
immediately grasp what&rsquo;s going on (an alternative would be a README.md file
with an explanation.)</p><p>Of course, if the dir is meant to fill-up over time, but we still want to
ignore its future contents in version control, then .gitignore is the right
tool for the job. Something like this would work (I <a href=https://stackoverflow.com/questions/115983/how-can-i-add-an-empty-directory-to-a-git-repository>dug it up</a> on Stack
Overflow, where else):</p><pre><code># Ignore everything in this directory
*
# Except this file
!.gitignore
</code></pre><p>I should probably adopt the #tirl tag, as in &ldquo;Today I Re-Learned.&rdquo;</p></div><footer class=post-footer><ul class=post-tags><li><a href=https://nicolaiarocci.com/tags/til/>til</a></li><li><a href=https://nicolaiarocci.com/tags/git/>git</a></li></ul></footer></article></main><footer class=footer><span>Produced / Written / Maintained by <a href=/>Nicola Iarocci</a> since 2010</span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>